/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-catalogs",
factory: function (require) {
"use strict";var plugin=(()=>{var $l=Object.create;var Ht=Object.defineProperty;var Pl=Object.getOwnPropertyDescriptor;var Ml=Object.getOwnPropertyNames;var Dl=Object.getPrototypeOf,Bl=Object.prototype.hasOwnProperty;var z=(s=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(s,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):s)(function(s){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+s+'" is not supported')});var C=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports),xl=(s,e)=>{for(var t in e)Ht(s,t,{get:e[t],enumerable:!0})},er=(s,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ml(e))!Bl.call(s,i)&&i!==t&&Ht(s,i,{get:()=>e[i],enumerable:!(n=Pl(e,i))||n.enumerable});return s};var je=(s,e,t)=>(t=s!=null?$l(Dl(s)):{},er(e||!s||!s.__esModule?Ht(t,"default",{value:s,enumerable:!0}):t,s)),jl=s=>er(Ht({},"__esModule",{value:!0}),s);var P=C(J=>{"use strict";var on=Symbol.for("yaml.alias"),hr=Symbol.for("yaml.document"),Vt=Symbol.for("yaml.map"),pr=Symbol.for("yaml.pair"),an=Symbol.for("yaml.scalar"),Wt=Symbol.for("yaml.seq"),ge=Symbol.for("yaml.node.type"),tc=s=>!!s&&typeof s=="object"&&s[ge]===on,sc=s=>!!s&&typeof s=="object"&&s[ge]===hr,nc=s=>!!s&&typeof s=="object"&&s[ge]===Vt,ic=s=>!!s&&typeof s=="object"&&s[ge]===pr,dr=s=>!!s&&typeof s=="object"&&s[ge]===an,rc=s=>!!s&&typeof s=="object"&&s[ge]===Wt;function gr(s){if(s&&typeof s=="object")switch(s[ge]){case Vt:case Wt:return!0}return!1}function oc(s){if(s&&typeof s=="object")switch(s[ge]){case on:case Vt:case an:case Wt:return!0}return!1}var ac=s=>(dr(s)||gr(s))&&!!s.anchor;J.ALIAS=on;J.DOC=hr;J.MAP=Vt;J.NODE_TYPE=ge;J.PAIR=pr;J.SCALAR=an;J.SEQ=Wt;J.hasAnchor=ac;J.isAlias=tc;J.isCollection=gr;J.isDocument=sc;J.isMap=nc;J.isNode=oc;J.isPair=ic;J.isScalar=dr;J.isSeq=rc});var it=C(ln=>{"use strict";var W=P(),Z=Symbol("break visit"),mr=Symbol("skip children"),ue=Symbol("remove node");function Jt(s,e){let t=yr(e);W.isDocument(s)?He(null,s.contents,t,Object.freeze([s]))===ue&&(s.contents=null):He(null,s,t,Object.freeze([]))}Jt.BREAK=Z;Jt.SKIP=mr;Jt.REMOVE=ue;function He(s,e,t,n){let i=br(s,e,t,n);if(W.isNode(i)||W.isPair(i))return Sr(s,n,i),He(s,i,t,n);if(typeof i!="symbol"){if(W.isCollection(e)){n=Object.freeze(n.concat(e));for(let r=0;r<e.items.length;++r){let o=He(r,e.items[r],t,n);if(typeof o=="number")r=o-1;else{if(o===Z)return Z;o===ue&&(e.items.splice(r,1),r-=1)}}}else if(W.isPair(e)){n=Object.freeze(n.concat(e));let r=He("key",e.key,t,n);if(r===Z)return Z;r===ue&&(e.key=null);let o=He("value",e.value,t,n);if(o===Z)return Z;o===ue&&(e.value=null)}}return i}async function Qt(s,e){let t=yr(e);W.isDocument(s)?await Ue(null,s.contents,t,Object.freeze([s]))===ue&&(s.contents=null):await Ue(null,s,t,Object.freeze([]))}Qt.BREAK=Z;Qt.SKIP=mr;Qt.REMOVE=ue;async function Ue(s,e,t,n){let i=await br(s,e,t,n);if(W.isNode(i)||W.isPair(i))return Sr(s,n,i),Ue(s,i,t,n);if(typeof i!="symbol"){if(W.isCollection(e)){n=Object.freeze(n.concat(e));for(let r=0;r<e.items.length;++r){let o=await Ue(r,e.items[r],t,n);if(typeof o=="number")r=o-1;else{if(o===Z)return Z;o===ue&&(e.items.splice(r,1),r-=1)}}}else if(W.isPair(e)){n=Object.freeze(n.concat(e));let r=await Ue("key",e.key,t,n);if(r===Z)return Z;r===ue&&(e.key=null);let o=await Ue("value",e.value,t,n);if(o===Z)return Z;o===ue&&(e.value=null)}}return i}function yr(s){return typeof s=="object"&&(s.Collection||s.Node||s.Value)?Object.assign({Alias:s.Node,Map:s.Node,Scalar:s.Node,Seq:s.Node},s.Value&&{Map:s.Value,Scalar:s.Value,Seq:s.Value},s.Collection&&{Map:s.Collection,Seq:s.Collection},s):s}function br(s,e,t,n){if(typeof t=="function")return t(s,e,n);if(W.isMap(e))return t.Map?.(s,e,n);if(W.isSeq(e))return t.Seq?.(s,e,n);if(W.isPair(e))return t.Pair?.(s,e,n);if(W.isScalar(e))return t.Scalar?.(s,e,n);if(W.isAlias(e))return t.Alias?.(s,e,n)}function Sr(s,e,t){let n=e[e.length-1];if(W.isCollection(n))n.items[s]=t;else if(W.isPair(n))s==="key"?n.key=t:n.value=t;else if(W.isDocument(n))n.contents=t;else{let i=W.isAlias(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}ln.visit=Jt;ln.visitAsync=Qt});var cn=C(Ar=>{"use strict";var wr=P(),lc=it(),cc={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},uc=s=>s.replace(/[!,[\]{}]/g,e=>cc[e]),rt=class s{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},s.defaultYaml,e),this.tags=Object.assign({},s.defaultTags,t)}clone(){let e=new s(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){let e=new s(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:s.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},s.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:s.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},s.defaultTags),this.atNextDocument=!1);let n=e.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(n.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;let[r,o]=n;return this.tags[r]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;let[r]=n;if(r==="1.1"||r==="1.2")return this.yaml.version=r,!0;{let o=/^\d+\.\d+$/.test(r);return t(6,`Unsupported YAML version ${r}`,o),!1}}default:return t(0,`Unknown directive ${i}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){let o=e.slice(2,-1);return o==="!"||o==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),o)}let[,n,i]=e.match(/^(.*!)([^!]*)$/s);i||t(`The ${e} tag has no suffix`);let r=this.tags[n];if(r)try{return r+decodeURIComponent(i)}catch(o){return t(String(o)),null}return n==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+uc(e.substring(n.length));return e[0]==="!"?e:`!<${e}>`}toString(e){let t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags),i;if(e&&n.length>0&&wr.isNode(e.contents)){let r={};lc.visit(e.contents,(o,a)=>{wr.isNode(a)&&a.tag&&(r[a.tag]=!0)}),i=Object.keys(r)}else i=[];for(let[r,o]of n)r==="!!"&&o==="tag:yaml.org,2002:"||(!e||i.some(a=>a.startsWith(o)))&&t.push(`%TAG ${r} ${o}`);return t.join(`
`)}};rt.defaultYaml={explicit:!1,version:"1.2"};rt.defaultTags={"!!":"tag:yaml.org,2002:"};Ar.Directives=rt});var Xt=C(ot=>{"use strict";var vr=P(),fc=it();function hc(s){if(/[\x00-\x19\s,[\]{}]/.test(s)){let t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(s)}`;throw new Error(t)}return!0}function Cr(s){let e=new Set;return fc.visit(s,{Value(t,n){n.anchor&&e.add(n.anchor)}}),e}function kr(s,e){for(let t=1;;++t){let n=`${s}${t}`;if(!e.has(n))return n}}function pc(s,e){let t=[],n=new Map,i=null;return{onAnchor:r=>{t.push(r),i??(i=Cr(s));let o=kr(e,i);return i.add(o),o},setAnchors:()=>{for(let r of t){let o=n.get(r);if(typeof o=="object"&&o.anchor&&(vr.isScalar(o.node)||vr.isCollection(o.node)))o.node.anchor=o.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=r,a}}},sourceObjects:n}}ot.anchorIsValid=hc;ot.anchorNames=Cr;ot.createNodeAnchors=pc;ot.findNewAnchor=kr});var un=C(Or=>{"use strict";function at(s,e,t,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,r=n.length;i<r;++i){let o=n[i],a=at(s,n,String(i),o);a===void 0?delete n[i]:a!==o&&(n[i]=a)}else if(n instanceof Map)for(let i of Array.from(n.keys())){let r=n.get(i),o=at(s,n,i,r);o===void 0?n.delete(i):o!==r&&n.set(i,o)}else if(n instanceof Set)for(let i of Array.from(n)){let r=at(s,n,i,i);r===void 0?n.delete(i):r!==i&&(n.delete(i),n.add(r))}else for(let[i,r]of Object.entries(n)){let o=at(s,n,i,r);o===void 0?delete n[i]:o!==r&&(n[i]=o)}return s.call(e,t,n)}Or.applyReviver=at});var Ce=C(Nr=>{"use strict";var dc=P();function Er(s,e,t){if(Array.isArray(s))return s.map((n,i)=>Er(n,String(i),t));if(s&&typeof s.toJSON=="function"){if(!t||!dc.hasAnchor(s))return s.toJSON(e,t);let n={aliasCount:0,count:1,res:void 0};t.anchors.set(s,n),t.onCreate=r=>{n.res=r,delete t.onCreate};let i=s.toJSON(e,t);return t.onCreate&&t.onCreate(i),i}return typeof s=="bigint"&&!t?.keep?Number(s):s}Nr.toJS=Er});var zt=C(Tr=>{"use strict";var gc=un(),_r=P(),mc=Ce(),fn=class{constructor(e){Object.defineProperty(this,_r.NODE_TYPE,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:n,onAnchor:i,reviver:r}={}){if(!_r.isDocument(e))throw new TypeError("A document argument is required");let o={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},a=mc.toJS(this,"",o);if(typeof i=="function")for(let{count:l,res:c}of o.anchors.values())i(c,l);return typeof r=="function"?gc.applyReviver(r,{"":a},"",a):a}};Tr.NodeBase=fn});var lt=C(Lr=>{"use strict";var yc=Xt(),bc=it(),Ge=P(),Sc=zt(),wc=Ce(),hn=class extends Sc.NodeBase{constructor(e){super(Ge.ALIAS),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,t){let n;t?.aliasResolveCache?n=t.aliasResolveCache:(n=[],bc.visit(e,{Node:(r,o)=>{(Ge.isAlias(o)||Ge.hasAnchor(o))&&n.push(o)}}),t&&(t.aliasResolveCache=n));let i;for(let r of n){if(r===this)break;r.anchor===this.source&&(i=r)}return i}toJSON(e,t){if(!t)return{source:this.source};let{anchors:n,doc:i,maxAliasCount:r}=t,o=this.resolve(i,t);if(!o){let l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=n.get(o);if(a||(wc.toJS(o,null,t),a=n.get(o)),!a||a.res===void 0){let l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(r>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Zt(i,o,n)),a.count*a.aliasCount>r)){let l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,t,n){let i=`*${this.source}`;if(e){if(yc.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${i} `}return i}};function Zt(s,e,t){if(Ge.isAlias(e)){let n=e.resolve(s),i=t&&n&&t.get(n);return i?i.count*i.aliasCount:0}else if(Ge.isCollection(e)){let n=0;for(let i of e.items){let r=Zt(s,i,t);r>n&&(n=r)}return n}else if(Ge.isPair(e)){let n=Zt(s,e.key,t),i=Zt(s,e.value,t);return Math.max(n,i)}return 1}Lr.Alias=hn});var Y=C(pn=>{"use strict";var Ac=P(),vc=zt(),Cc=Ce(),kc=s=>!s||typeof s!="function"&&typeof s!="object",ke=class extends vc.NodeBase{constructor(e){super(Ac.SCALAR),this.value=e}toJSON(e,t){return t?.keep?this.value:Cc.toJS(this.value,e,t)}toString(){return String(this.value)}};ke.BLOCK_FOLDED="BLOCK_FOLDED";ke.BLOCK_LITERAL="BLOCK_LITERAL";ke.PLAIN="PLAIN";ke.QUOTE_DOUBLE="QUOTE_DOUBLE";ke.QUOTE_SINGLE="QUOTE_SINGLE";pn.Scalar=ke;pn.isScalarValue=kc});var ct=C(Ir=>{"use strict";var Oc=lt(),$e=P(),Rr=Y(),Ec="tag:yaml.org,2002:";function Nc(s,e,t){if(e){let n=t.filter(r=>r.tag===e),i=n.find(r=>!r.format)??n[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return t.find(n=>n.identify?.(s)&&!n.format)}function _c(s,e,t){if($e.isDocument(s)&&(s=s.contents),$e.isNode(s))return s;if($e.isPair(s)){let f=t.schema[$e.MAP].createNode?.(t.schema,null,t);return f.items.push(s),f}(s instanceof String||s instanceof Number||s instanceof Boolean||typeof BigInt<"u"&&s instanceof BigInt)&&(s=s.valueOf());let{aliasDuplicateObjects:n,onAnchor:i,onTagObj:r,schema:o,sourceObjects:a}=t,l;if(n&&s&&typeof s=="object"){if(l=a.get(s),l)return l.anchor??(l.anchor=i(s)),new Oc.Alias(l.anchor);l={anchor:null,node:null},a.set(s,l)}e?.startsWith("!!")&&(e=Ec+e.slice(2));let c=Nc(s,e,o.tags);if(!c){if(s&&typeof s.toJSON=="function"&&(s=s.toJSON()),!s||typeof s!="object"){let f=new Rr.Scalar(s);return l&&(l.node=f),f}c=s instanceof Map?o[$e.MAP]:Symbol.iterator in Object(s)?o[$e.SEQ]:o[$e.MAP]}r&&(r(c),delete t.onTagObj);let p=c?.createNode?c.createNode(t.schema,s,t):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(t.schema,s,t):new Rr.Scalar(s);return e?p.tag=e:c.default||(p.tag=c.tag),l&&(l.node=p),p}Ir.createNode=_c});var ts=C(es=>{"use strict";var Tc=ct(),fe=P(),Lc=zt();function dn(s,e,t){let n=t;for(let i=e.length-1;i>=0;--i){let r=e[i];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){let o=[];o[r]=n,n=o}else n=new Map([[r,n]])}return Tc.createNode(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:s,sourceObjects:new Map})}var qr=s=>s==null||typeof s=="object"&&!!s[Symbol.iterator]().next().done,gn=class extends Lc.NodeBase{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){let t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(n=>fe.isNode(n)||fe.isPair(n)?n.clone(e):n),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(qr(e))this.add(t);else{let[n,...i]=e,r=this.get(n,!0);if(fe.isCollection(r))r.addIn(i,t);else if(r===void 0&&this.schema)this.set(n,dn(this.schema,i,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(e){let[t,...n]=e;if(n.length===0)return this.delete(t);let i=this.get(t,!0);if(fe.isCollection(i))return i.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){let[n,...i]=e,r=this.get(n,!0);return i.length===0?!t&&fe.isScalar(r)?r.value:r:fe.isCollection(r)?r.getIn(i,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!fe.isPair(t))return!1;let n=t.value;return n==null||e&&fe.isScalar(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){let[t,...n]=e;if(n.length===0)return this.has(t);let i=this.get(t,!0);return fe.isCollection(i)?i.hasIn(n):!1}setIn(e,t){let[n,...i]=e;if(i.length===0)this.set(n,t);else{let r=this.get(n,!0);if(fe.isCollection(r))r.setIn(i,t);else if(r===void 0&&this.schema)this.set(n,dn(this.schema,i,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}};es.Collection=gn;es.collectionFromPath=dn;es.isEmptyPath=qr});var ut=C(ss=>{"use strict";var Rc=s=>s.replace(/^(?!$)(?: $)?/gm,"#");function mn(s,e){return/^\n+$/.test(s)?s.substring(1):e?s.replace(/^(?! *$)/gm,e):s}var Ic=(s,e,t)=>s.endsWith(`
`)?mn(t,e):t.includes(`
`)?`
`+mn(t,e):(s.endsWith(" ")?"":" ")+t;ss.indentComment=mn;ss.lineComment=Ic;ss.stringifyComment=Rc});var Pr=C(ft=>{"use strict";var qc="flow",yn="block",ns="quoted";function $c(s,e,t="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:r=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return s;i<r&&(r=0);let l=Math.max(1+r,1+i-e.length);if(s.length<=l)return s;let c=[],p={},f=i-e.length;typeof n=="number"&&(n>i-Math.max(2,r)?c.push(0):f=i-n);let u,y,w=!1,h=-1,b=-1,O=-1;t===yn&&(h=$r(s,h,e.length),h!==-1&&(f=h+l));for(let _;_=s[h+=1];){if(t===ns&&_==="\\"){switch(b=h,s[h+1]){case"x":h+=3;break;case"u":h+=5;break;case"U":h+=9;break;default:h+=1}O=h}if(_===`
`)t===yn&&(h=$r(s,h,e.length)),f=h+e.length+l,u=void 0;else{if(_===" "&&y&&y!==" "&&y!==`
`&&y!=="	"){let L=s[h+1];L&&L!==" "&&L!==`
`&&L!=="	"&&(u=h)}if(h>=f)if(u)c.push(u),f=u+l,u=void 0;else if(t===ns){for(;y===" "||y==="	";)y=_,_=s[h+=1],w=!0;let L=h>O+1?h-2:b-1;if(p[L])return s;c.push(L),p[L]=!0,f=L+l,u=void 0}else w=!0}y=_}if(w&&a&&a(),c.length===0)return s;o&&o();let A=s.slice(0,c[0]);for(let _=0;_<c.length;++_){let L=c[_],E=c[_+1]||s.length;L===0?A=`
${e}${s.slice(0,E)}`:(t===ns&&p[L]&&(A+=`${s[L]}\\`),A+=`
${e}${s.slice(L+1,E)}`)}return A}function $r(s,e,t){let n=e,i=e+1,r=s[i];for(;r===" "||r==="	";)if(e<i+t)r=s[++e];else{do r=s[++e];while(r&&r!==`
`);n=e,i=e+1,r=s[i]}return n}ft.FOLD_BLOCK=yn;ft.FOLD_FLOW=qc;ft.FOLD_QUOTED=ns;ft.foldFlowLines=$c});var pt=C(Mr=>{"use strict";var le=Y(),Oe=Pr(),rs=(s,e)=>({indentAtStart:e?s.indent.length:s.indentAtStart,lineWidth:s.options.lineWidth,minContentWidth:s.options.minContentWidth}),os=s=>/^(%|---|\.\.\.)/m.test(s);function Pc(s,e,t){if(!e||e<0)return!1;let n=e-t,i=s.length;if(i<=n)return!1;for(let r=0,o=0;r<i;++r)if(s[r]===`
`){if(r-o>n)return!0;if(o=r+1,i-o<=n)return!1}return!0}function ht(s,e){let t=JSON.stringify(s);if(e.options.doubleQuotedAsJSON)return t;let{implicitKey:n}=e,i=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(os(s)?"  ":""),o="",a=0;for(let l=0,c=t[l];c;c=t[++l])if(c===" "&&t[l+1]==="\\"&&t[l+2]==="n"&&(o+=t.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(t[l+1]){case"u":{o+=t.slice(a,l);let p=t.substr(l+2,4);switch(p){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:p.substr(0,2)==="00"?o+="\\x"+p.substr(2):o+=t.substr(l,6)}l+=5,a=l+1}break;case"n":if(n||t[l+2]==='"'||t.length<i)l+=1;else{for(o+=t.slice(a,l)+`

`;t[l+2]==="\\"&&t[l+3]==="n"&&t[l+4]!=='"';)o+=`
`,l+=2;o+=r,t[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+t.slice(a):t,n?o:Oe.foldFlowLines(o,r,Oe.FOLD_QUOTED,rs(e,!1))}function bn(s,e){if(e.options.singleQuote===!1||e.implicitKey&&s.includes(`
`)||/[ \t]\n|\n[ \t]/.test(s))return ht(s,e);let t=e.indent||(os(s)?"  ":""),n="'"+s.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?n:Oe.foldFlowLines(n,t,Oe.FOLD_FLOW,rs(e,!1))}function Ye(s,e){let{singleQuote:t}=e.options,n;if(t===!1)n=ht;else{let i=s.includes('"'),r=s.includes("'");i&&!r?n=bn:r&&!i?n=ht:n=t?bn:ht}return n(s,e)}var Sn;try{Sn=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Sn=/\n+(?!\n|$)/g}function is({comment:s,type:e,value:t},n,i,r){let{blockQuote:o,commentString:a,lineWidth:l}=n.options;if(!o||/\n[\t ]+$/.test(t))return Ye(t,n);let c=n.indent||(n.forceBlockIndent||os(t)?"  ":""),p=o==="literal"?!0:o==="folded"||e===le.Scalar.BLOCK_FOLDED?!1:e===le.Scalar.BLOCK_LITERAL?!0:!Pc(t,l,c.length);if(!t)return p?`|
`:`>
`;let f,u;for(u=t.length;u>0;--u){let E=t[u-1];if(E!==`
`&&E!=="	"&&E!==" ")break}let y=t.substring(u),w=y.indexOf(`
`);w===-1?f="-":t===y||w!==y.length-1?(f="+",r&&r()):f="",y&&(t=t.slice(0,-y.length),y[y.length-1]===`
`&&(y=y.slice(0,-1)),y=y.replace(Sn,`$&${c}`));let h=!1,b,O=-1;for(b=0;b<t.length;++b){let E=t[b];if(E===" ")h=!0;else if(E===`
`)O=b;else break}let A=t.substring(0,O<b?O+1:b);A&&(t=t.substring(A.length),A=A.replace(/\n+/g,`$&${c}`));let L=(h?c?"2":"1":"")+f;if(s&&(L+=" "+a(s.replace(/ ?[\r\n]+/g," ")),i&&i()),!p){let E=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`),N=!1,R=rs(n,!0);o!=="folded"&&e!==le.Scalar.BLOCK_FOLDED&&(R.onOverflow=()=>{N=!0});let S=Oe.foldFlowLines(`${A}${E}${y}`,c,Oe.FOLD_BLOCK,R);if(!N)return`>${L}
${c}${S}`}return t=t.replace(/\n+/g,`$&${c}`),`|${L}
${c}${A}${t}${y}`}function Mc(s,e,t,n){let{type:i,value:r}=s,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:p}=e;if(a&&r.includes(`
`)||p&&/[[\]{},]/.test(r))return Ye(r,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return a||p||!r.includes(`
`)?Ye(r,e):is(s,e,t,n);if(!a&&!p&&i!==le.Scalar.PLAIN&&r.includes(`
`))return is(s,e,t,n);if(os(r)){if(l==="")return e.forceBlockIndent=!0,is(s,e,t,n);if(a&&l===c)return Ye(r,e)}let f=r.replace(/\n+/g,`$&
${l}`);if(o){let u=h=>h.default&&h.tag!=="tag:yaml.org,2002:str"&&h.test?.test(f),{compat:y,tags:w}=e.doc.schema;if(w.some(u)||y?.some(u))return Ye(r,e)}return a?f:Oe.foldFlowLines(f,l,Oe.FOLD_FLOW,rs(e,!1))}function Dc(s,e,t,n){let{implicitKey:i,inFlow:r}=e,o=typeof s.value=="string"?s:Object.assign({},s,{value:String(s.value)}),{type:a}=s;a!==le.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=le.Scalar.QUOTE_DOUBLE);let l=p=>{switch(p){case le.Scalar.BLOCK_FOLDED:case le.Scalar.BLOCK_LITERAL:return i||r?Ye(o.value,e):is(o,e,t,n);case le.Scalar.QUOTE_DOUBLE:return ht(o.value,e);case le.Scalar.QUOTE_SINGLE:return bn(o.value,e);case le.Scalar.PLAIN:return Mc(o,e,t,n);default:return null}},c=l(a);if(c===null){let{defaultKeyType:p,defaultStringType:f}=e.options,u=i&&p||f;if(c=l(u),c===null)throw new Error(`Unsupported default string type ${u}`)}return c}Mr.stringifyString=Dc});var dt=C(wn=>{"use strict";var Bc=Xt(),Ee=P(),xc=ut(),jc=pt();function Fc(s,e){let t=Object.assign({blockQuote:!0,commentString:xc.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},s.schema.toStringOptions,e),n;switch(t.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:s,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:n,options:t}}function Kc(s,e){if(e.tag){let i=s.filter(r=>r.tag===e.tag);if(i.length>0)return i.find(r=>r.format===e.format)??i[0]}let t,n;if(Ee.isScalar(e)){n=e.value;let i=s.filter(r=>r.identify?.(n));if(i.length>1){let r=i.filter(o=>o.test);r.length>0&&(i=r)}t=i.find(r=>r.format===e.format)??i.find(r=>!r.format)}else n=e,t=s.find(i=>i.nodeClass&&n instanceof i.nodeClass);if(!t){let i=n?.constructor?.name??(n===null?"null":typeof n);throw new Error(`Tag not resolved for ${i} value`)}return t}function Hc(s,e,{anchors:t,doc:n}){if(!n.directives)return"";let i=[],r=(Ee.isScalar(s)||Ee.isCollection(s))&&s.anchor;r&&Bc.anchorIsValid(r)&&(t.add(r),i.push(`&${r}`));let o=s.tag??(e.default?null:e.tag);return o&&i.push(n.directives.tagString(o)),i.join(" ")}function Uc(s,e,t,n){if(Ee.isPair(s))return s.toString(e,t,n);if(Ee.isAlias(s)){if(e.doc.directives)return s.toString(e);if(e.resolvedAliases?.has(s))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(s):e.resolvedAliases=new Set([s]),s=s.resolve(e.doc)}let i,r=Ee.isNode(s)?s:e.doc.createNode(s,{onTagObj:l=>i=l});i??(i=Kc(e.doc.schema.tags,r));let o=Hc(r,i,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);let a=typeof i.stringify=="function"?i.stringify(r,e,t,n):Ee.isScalar(r)?jc.stringifyString(r,e,t,n):r.toString(e,t,n);return o?Ee.isScalar(r)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}wn.createStringifyContext=Fc;wn.stringify=Uc});var jr=C(xr=>{"use strict";var me=P(),Dr=Y(),Br=dt(),gt=ut();function Gc({key:s,value:e},t,n,i){let{allNullValues:r,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:p,simpleKeys:f}}=t,u=me.isNode(s)&&s.comment||null;if(f){if(u)throw new Error("With simple keys, key nodes cannot have comments");if(me.isCollection(s)||!me.isNode(s)&&typeof s=="object"){let R="With simple keys, collection cannot be used as a key value";throw new Error(R)}}let y=!f&&(!s||u&&e==null&&!t.inFlow||me.isCollection(s)||(me.isScalar(s)?s.type===Dr.Scalar.BLOCK_FOLDED||s.type===Dr.Scalar.BLOCK_LITERAL:typeof s=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!y&&(f||!r),indent:a+l});let w=!1,h=!1,b=Br.stringify(s,t,()=>w=!0,()=>h=!0);if(!y&&!t.inFlow&&b.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");y=!0}if(t.inFlow){if(r||e==null)return w&&n&&n(),b===""?"?":y?`? ${b}`:b}else if(r&&!f||e==null&&y)return b=`? ${b}`,u&&!w?b+=gt.lineComment(b,t.indent,c(u)):h&&i&&i(),b;w&&(u=null),y?(u&&(b+=gt.lineComment(b,t.indent,c(u))),b=`? ${b}
${a}:`):(b=`${b}:`,u&&(b+=gt.lineComment(b,t.indent,c(u))));let O,A,_;me.isNode(e)?(O=!!e.spaceBefore,A=e.commentBefore,_=e.comment):(O=!1,A=null,_=null,e&&typeof e=="object"&&(e=o.createNode(e))),t.implicitKey=!1,!y&&!u&&me.isScalar(e)&&(t.indentAtStart=b.length+1),h=!1,!p&&l.length>=2&&!t.inFlow&&!y&&me.isSeq(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let L=!1,E=Br.stringify(e,t,()=>L=!0,()=>h=!0),N=" ";if(u||O||A){if(N=O?`
`:"",A){let R=c(A);N+=`
${gt.indentComment(R,t.indent)}`}E===""&&!t.inFlow?N===`
`&&(N=`

`):N+=`
${t.indent}`}else if(!y&&me.isCollection(e)){let R=E[0],S=E.indexOf(`
`),T=S!==-1,d=t.inFlow??e.flow??e.items.length===0;if(T||!d){let U=!1;if(T&&(R==="&"||R==="!")){let I=E.indexOf(" ");R==="&"&&I!==-1&&I<S&&E[I+1]==="!"&&(I=E.indexOf(" ",I+1)),(I===-1||S<I)&&(U=!0)}U||(N=`
${t.indent}`)}}else(E===""||E[0]===`
`)&&(N="");return b+=N+E,t.inFlow?L&&n&&n():_&&!L?b+=gt.lineComment(b,t.indent,c(_)):h&&i&&i(),b}xr.stringifyPair=Gc});var vn=C(An=>{"use strict";var Fr=z("process");function Yc(s,...e){s==="debug"&&console.log(...e)}function Vc(s,e){(s==="debug"||s==="warn")&&(typeof Fr.emitWarning=="function"?Fr.emitWarning(e):console.warn(e))}An.debug=Yc;An.warn=Vc});var us=C(cs=>{"use strict";var mt=P(),Kr=Y(),as="<<",ls={identify:s=>s===as||typeof s=="symbol"&&s.description===as,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Kr.Scalar(Symbol(as)),{addToJSMap:Hr}),stringify:()=>as},Wc=(s,e)=>(ls.identify(e)||mt.isScalar(e)&&(!e.type||e.type===Kr.Scalar.PLAIN)&&ls.identify(e.value))&&s?.doc.schema.tags.some(t=>t.tag===ls.tag&&t.default);function Hr(s,e,t){if(t=s&&mt.isAlias(t)?t.resolve(s.doc):t,mt.isSeq(t))for(let n of t.items)Cn(s,e,n);else if(Array.isArray(t))for(let n of t)Cn(s,e,n);else Cn(s,e,t)}function Cn(s,e,t){let n=s&&mt.isAlias(t)?t.resolve(s.doc):t;if(!mt.isMap(n))throw new Error("Merge sources must be maps or map aliases");let i=n.toJSON(null,s,Map);for(let[r,o]of i)e instanceof Map?e.has(r)||e.set(r,o):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}cs.addMergeToJSMap=Hr;cs.isMergeKey=Wc;cs.merge=ls});var On=C(Yr=>{"use strict";var Jc=vn(),Ur=us(),Qc=dt(),Gr=P(),kn=Ce();function Xc(s,e,{key:t,value:n}){if(Gr.isNode(t)&&t.addToJSMap)t.addToJSMap(s,e,n);else if(Ur.isMergeKey(s,t))Ur.addMergeToJSMap(s,e,n);else{let i=kn.toJS(t,"",s);if(e instanceof Map)e.set(i,kn.toJS(n,i,s));else if(e instanceof Set)e.add(i);else{let r=zc(t,i,s),o=kn.toJS(n,r,s);r in e?Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[r]=o}}return e}function zc(s,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(Gr.isNode(s)&&t?.doc){let n=Qc.createStringifyContext(t.doc,{});n.anchors=new Set;for(let r of t.anchors.keys())n.anchors.add(r.anchor);n.inFlow=!0,n.inStringifyKey=!0;let i=s.toString(n);if(!t.mapKeyWarned){let r=JSON.stringify(i);r.length>40&&(r=r.substring(0,36)+'..."'),Jc.warn(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return i}return JSON.stringify(e)}Yr.addPairToJSMap=Xc});var Ne=C(En=>{"use strict";var Vr=ct(),Zc=jr(),eu=On(),fs=P();function tu(s,e,t){let n=Vr.createNode(s,void 0,t),i=Vr.createNode(e,void 0,t);return new hs(n,i)}var hs=class s{constructor(e,t=null){Object.defineProperty(this,fs.NODE_TYPE,{value:fs.PAIR}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return fs.isNode(t)&&(t=t.clone(e)),fs.isNode(n)&&(n=n.clone(e)),new s(t,n)}toJSON(e,t){let n=t?.mapAsMap?new Map:{};return eu.addPairToJSMap(t,n,this)}toString(e,t,n){return e?.doc?Zc.stringifyPair(this,e,t,n):JSON.stringify(this)}};En.Pair=hs;En.createPair=tu});var Nn=C(Jr=>{"use strict";var Pe=P(),Wr=dt(),ps=ut();function su(s,e,t){return(e.inFlow??s.flow?iu:nu)(s,e,t)}function nu({comment:s,items:e},t,{blockItemPrefix:n,flowChars:i,itemIndent:r,onChompKeep:o,onComment:a}){let{indent:l,options:{commentString:c}}=t,p=Object.assign({},t,{indent:r,type:null}),f=!1,u=[];for(let w=0;w<e.length;++w){let h=e[w],b=null;if(Pe.isNode(h))!f&&h.spaceBefore&&u.push(""),ds(t,u,h.commentBefore,f),h.comment&&(b=h.comment);else if(Pe.isPair(h)){let A=Pe.isNode(h.key)?h.key:null;A&&(!f&&A.spaceBefore&&u.push(""),ds(t,u,A.commentBefore,f))}f=!1;let O=Wr.stringify(h,p,()=>b=null,()=>f=!0);b&&(O+=ps.lineComment(O,r,c(b))),f&&b&&(f=!1),u.push(n+O)}let y;if(u.length===0)y=i.start+i.end;else{y=u[0];for(let w=1;w<u.length;++w){let h=u[w];y+=h?`
${l}${h}`:`
`}}return s?(y+=`
`+ps.indentComment(c(s),l),a&&a()):f&&o&&o(),y}function iu({items:s},e,{flowChars:t,itemIndent:n}){let{indent:i,indentStep:r,flowCollectionPadding:o,options:{commentString:a}}=e;n+=r;let l=Object.assign({},e,{indent:n,inFlow:!0,type:null}),c=!1,p=0,f=[];for(let w=0;w<s.length;++w){let h=s[w],b=null;if(Pe.isNode(h))h.spaceBefore&&f.push(""),ds(e,f,h.commentBefore,!1),h.comment&&(b=h.comment);else if(Pe.isPair(h)){let A=Pe.isNode(h.key)?h.key:null;A&&(A.spaceBefore&&f.push(""),ds(e,f,A.commentBefore,!1),A.comment&&(c=!0));let _=Pe.isNode(h.value)?h.value:null;_?(_.comment&&(b=_.comment),_.commentBefore&&(c=!0)):h.value==null&&A?.comment&&(b=A.comment)}b&&(c=!0);let O=Wr.stringify(h,l,()=>b=null);w<s.length-1&&(O+=","),b&&(O+=ps.lineComment(O,n,a(b))),!c&&(f.length>p||O.includes(`
`))&&(c=!0),f.push(O),p=f.length}let{start:u,end:y}=t;if(f.length===0)return u+y;if(!c){let w=f.reduce((h,b)=>h+b.length+2,2);c=e.options.lineWidth>0&&w>e.options.lineWidth}if(c){let w=u;for(let h of f)w+=h?`
${r}${i}${h}`:`
`;return`${w}
${i}${y}`}else return`${u}${o}${f.join(" ")}${o}${y}`}function ds({indent:s,options:{commentString:e}},t,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){let r=ps.indentComment(e(n),s);t.push(r.trimStart())}}Jr.stringifyCollection=su});var Te=C(Tn=>{"use strict";var ru=Nn(),ou=On(),au=ts(),_e=P(),gs=Ne(),lu=Y();function yt(s,e){let t=_e.isScalar(e)?e.value:e;for(let n of s)if(_e.isPair(n)&&(n.key===e||n.key===t||_e.isScalar(n.key)&&n.key.value===t))return n}var _n=class extends au.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(_e.MAP,e),this.items=[]}static from(e,t,n){let{keepUndefined:i,replacer:r}=n,o=new this(e),a=(l,c)=>{if(typeof r=="function")c=r.call(t,l,c);else if(Array.isArray(r)&&!r.includes(l))return;(c!==void 0||i)&&o.items.push(gs.createPair(l,c,n))};if(t instanceof Map)for(let[l,c]of t)a(l,c);else if(t&&typeof t=="object")for(let l of Object.keys(t))a(l,t[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,t){let n;_e.isPair(e)?n=e:!e||typeof e!="object"||!("key"in e)?n=new gs.Pair(e,e?.value):n=new gs.Pair(e.key,e.value);let i=yt(this.items,n.key),r=this.schema?.sortMapEntries;if(i){if(!t)throw new Error(`Key ${n.key} already set`);_e.isScalar(i.value)&&lu.isScalarValue(n.value)?i.value.value=n.value:i.value=n.value}else if(r){let o=this.items.findIndex(a=>r(n,a)<0);o===-1?this.items.push(n):this.items.splice(o,0,n)}else this.items.push(n)}delete(e){let t=yt(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){let i=yt(this.items,e)?.value;return(!t&&_e.isScalar(i)?i.value:i)??void 0}has(e){return!!yt(this.items,e)}set(e,t){this.add(new gs.Pair(e,t),!0)}toJSON(e,t,n){let i=n?new n:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(i);for(let r of this.items)ou.addPairToJSMap(t,i,r);return i}toString(e,t,n){if(!e)return JSON.stringify(this);for(let i of this.items)if(!_e.isPair(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),ru.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}};Tn.YAMLMap=_n;Tn.findPair=yt});var Ve=C(Xr=>{"use strict";var cu=P(),Qr=Te(),uu={collection:"map",default:!0,nodeClass:Qr.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(s,e){return cu.isMap(s)||e("Expected a mapping for this tag"),s},createNode:(s,e,t)=>Qr.YAMLMap.from(s,e,t)};Xr.map=uu});var Le=C(zr=>{"use strict";var fu=ct(),hu=Nn(),pu=ts(),ys=P(),du=Y(),gu=Ce(),Ln=class extends pu.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(ys.SEQ,e),this.items=[]}add(e){this.items.push(e)}delete(e){let t=ms(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){let n=ms(e);if(typeof n!="number")return;let i=this.items[n];return!t&&ys.isScalar(i)?i.value:i}has(e){let t=ms(e);return typeof t=="number"&&t<this.items.length}set(e,t){let n=ms(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);let i=this.items[n];ys.isScalar(i)&&du.isScalarValue(t)?i.value=t:this.items[n]=t}toJSON(e,t){let n=[];t?.onCreate&&t.onCreate(n);let i=0;for(let r of this.items)n.push(gu.toJS(r,String(i++),t));return n}toString(e,t,n){return e?hu.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}static from(e,t,n){let{replacer:i}=n,r=new this(e);if(t&&Symbol.iterator in Object(t)){let o=0;for(let a of t){if(typeof i=="function"){let l=t instanceof Set?a:String(o++);a=i.call(t,l,a)}r.items.push(fu.createNode(a,void 0,n))}}return r}};function ms(s){let e=ys.isScalar(s)?s.value:s;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}zr.YAMLSeq=Ln});var We=C(eo=>{"use strict";var mu=P(),Zr=Le(),yu={collection:"seq",default:!0,nodeClass:Zr.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(s,e){return mu.isSeq(s)||e("Expected a sequence for this tag"),s},createNode:(s,e,t)=>Zr.YAMLSeq.from(s,e,t)};eo.seq=yu});var bt=C(to=>{"use strict";var bu=pt(),Su={identify:s=>typeof s=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:s=>s,stringify(s,e,t,n){return e=Object.assign({actualString:!0},e),bu.stringifyString(s,e,t,n)}};to.string=Su});var bs=C(io=>{"use strict";var so=Y(),no={identify:s=>s==null,createNode:()=>new so.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new so.Scalar(null),stringify:({source:s},e)=>typeof s=="string"&&no.test.test(s)?s:e.options.nullStr};io.nullTag=no});var Rn=C(oo=>{"use strict";var wu=Y(),ro={identify:s=>typeof s=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:s=>new wu.Scalar(s[0]==="t"||s[0]==="T"),stringify({source:s,value:e},t){if(s&&ro.test.test(s)){let n=s[0]==="t"||s[0]==="T";if(e===n)return s}return e?t.options.trueStr:t.options.falseStr}};oo.boolTag=ro});var Je=C(ao=>{"use strict";function Au({format:s,minFractionDigits:e,tag:t,value:n}){if(typeof n=="bigint")return String(n);let i=typeof n=="number"?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let r=JSON.stringify(n);if(!s&&e&&(!t||t==="tag:yaml.org,2002:float")&&/^\d/.test(r)){let o=r.indexOf(".");o<0&&(o=r.length,r+=".");let a=e-(r.length-o-1);for(;a-- >0;)r+="0"}return r}ao.stringifyNumber=Au});var qn=C(Ss=>{"use strict";var vu=Y(),In=Je(),Cu={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:s=>s.slice(-3).toLowerCase()==="nan"?NaN:s[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:In.stringifyNumber},ku={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:s=>parseFloat(s),stringify(s){let e=Number(s.value);return isFinite(e)?e.toExponential():In.stringifyNumber(s)}},Ou={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(s){let e=new vu.Scalar(parseFloat(s)),t=s.indexOf(".");return t!==-1&&s[s.length-1]==="0"&&(e.minFractionDigits=s.length-t-1),e},stringify:In.stringifyNumber};Ss.float=Ou;Ss.floatExp=ku;Ss.floatNaN=Cu});var Pn=C(As=>{"use strict";var lo=Je(),ws=s=>typeof s=="bigint"||Number.isInteger(s),$n=(s,e,t,{intAsBigInt:n})=>n?BigInt(s):parseInt(s.substring(e),t);function co(s,e,t){let{value:n}=s;return ws(n)&&n>=0?t+n.toString(e):lo.stringifyNumber(s)}var Eu={identify:s=>ws(s)&&s>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(s,e,t)=>$n(s,2,8,t),stringify:s=>co(s,8,"0o")},Nu={identify:ws,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(s,e,t)=>$n(s,0,10,t),stringify:lo.stringifyNumber},_u={identify:s=>ws(s)&&s>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(s,e,t)=>$n(s,2,16,t),stringify:s=>co(s,16,"0x")};As.int=Nu;As.intHex=_u;As.intOct=Eu});var fo=C(uo=>{"use strict";var Tu=Ve(),Lu=bs(),Ru=We(),Iu=bt(),qu=Rn(),Mn=qn(),Dn=Pn(),$u=[Tu.map,Ru.seq,Iu.string,Lu.nullTag,qu.boolTag,Dn.intOct,Dn.int,Dn.intHex,Mn.floatNaN,Mn.floatExp,Mn.float];uo.schema=$u});var go=C(po=>{"use strict";var Pu=Y(),Mu=Ve(),Du=We();function ho(s){return typeof s=="bigint"||Number.isInteger(s)}var vs=({value:s})=>JSON.stringify(s),Bu=[{identify:s=>typeof s=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:s=>s,stringify:vs},{identify:s=>s==null,createNode:()=>new Pu.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:vs},{identify:s=>typeof s=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:s=>s==="true",stringify:vs},{identify:ho,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(s,e,{intAsBigInt:t})=>t?BigInt(s):parseInt(s,10),stringify:({value:s})=>ho(s)?s.toString():JSON.stringify(s)},{identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:s=>parseFloat(s),stringify:vs}],xu={default:!0,tag:"",test:/^/,resolve(s,e){return e(`Unresolved plain scalar ${JSON.stringify(s)}`),s}},ju=[Mu.map,Du.seq].concat(Bu,xu);po.schema=ju});var xn=C(mo=>{"use strict";var St=z("buffer"),Bn=Y(),Fu=pt(),Ku={identify:s=>s instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(s,e){if(typeof St.Buffer=="function")return St.Buffer.from(s,"base64");if(typeof atob=="function"){let t=atob(s.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let i=0;i<t.length;++i)n[i]=t.charCodeAt(i);return n}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),s},stringify({comment:s,type:e,value:t},n,i,r){if(!t)return"";let o=t,a;if(typeof St.Buffer=="function")a=o instanceof St.Buffer?o.toString("base64"):St.Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=Bn.Scalar.BLOCK_LITERAL),e!==Bn.Scalar.QUOTE_DOUBLE){let l=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),c=Math.ceil(a.length/l),p=new Array(c);for(let f=0,u=0;f<c;++f,u+=l)p[f]=a.substr(u,l);a=p.join(e===Bn.Scalar.BLOCK_LITERAL?`
`:" ")}return Fu.stringifyString({comment:s,type:e,value:a},n,i,r)}};mo.binary=Ku});var Os=C(ks=>{"use strict";var Cs=P(),jn=Ne(),Hu=Y(),Uu=Le();function yo(s,e){if(Cs.isSeq(s))for(let t=0;t<s.items.length;++t){let n=s.items[t];if(!Cs.isPair(n)){if(Cs.isMap(n)){n.items.length>1&&e("Each pair must have its own sequence indicator");let i=n.items[0]||new jn.Pair(new Hu.Scalar(null));if(n.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${n.commentBefore}
${i.key.commentBefore}`:n.commentBefore),n.comment){let r=i.value??i.key;r.comment=r.comment?`${n.comment}
${r.comment}`:n.comment}n=i}s.items[t]=Cs.isPair(n)?n:new jn.Pair(n)}}else e("Expected a sequence for this tag");return s}function bo(s,e,t){let{replacer:n}=t,i=new Uu.YAMLSeq(s);i.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof n=="function"&&(o=n.call(e,String(r++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){let c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;i.items.push(jn.createPair(a,l,t))}return i}var Gu={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:yo,createNode:bo};ks.createPairs=bo;ks.pairs=Gu;ks.resolvePairs=yo});var Hn=C(Kn=>{"use strict";var So=P(),Fn=Ce(),wt=Te(),Yu=Le(),wo=Os(),Me=class s extends Yu.YAMLSeq{constructor(){super(),this.add=wt.YAMLMap.prototype.add.bind(this),this.delete=wt.YAMLMap.prototype.delete.bind(this),this.get=wt.YAMLMap.prototype.get.bind(this),this.has=wt.YAMLMap.prototype.has.bind(this),this.set=wt.YAMLMap.prototype.set.bind(this),this.tag=s.tag}toJSON(e,t){if(!t)return super.toJSON(e);let n=new Map;t?.onCreate&&t.onCreate(n);for(let i of this.items){let r,o;if(So.isPair(i)?(r=Fn.toJS(i.key,"",t),o=Fn.toJS(i.value,r,t)):r=Fn.toJS(i,"",t),n.has(r))throw new Error("Ordered maps must not include duplicate keys");n.set(r,o)}return n}static from(e,t,n){let i=wo.createPairs(e,t,n),r=new this;return r.items=i.items,r}};Me.tag="tag:yaml.org,2002:omap";var Vu={collection:"seq",identify:s=>s instanceof Map,nodeClass:Me,default:!1,tag:"tag:yaml.org,2002:omap",resolve(s,e){let t=wo.resolvePairs(s,e),n=[];for(let{key:i}of t.items)So.isScalar(i)&&(n.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):n.push(i.value));return Object.assign(new Me,t)},createNode:(s,e,t)=>Me.from(s,e,t)};Kn.YAMLOMap=Me;Kn.omap=Vu});var Oo=C(Un=>{"use strict";var Ao=Y();function vo({value:s,source:e},t){return e&&(s?Co:ko).test.test(e)?e:s?t.options.trueStr:t.options.falseStr}var Co={identify:s=>s===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Ao.Scalar(!0),stringify:vo},ko={identify:s=>s===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Ao.Scalar(!1),stringify:vo};Un.falseTag=ko;Un.trueTag=Co});var Eo=C(Es=>{"use strict";var Wu=Y(),Gn=Je(),Ju={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:s=>s.slice(-3).toLowerCase()==="nan"?NaN:s[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Gn.stringifyNumber},Qu={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:s=>parseFloat(s.replace(/_/g,"")),stringify(s){let e=Number(s.value);return isFinite(e)?e.toExponential():Gn.stringifyNumber(s)}},Xu={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(s){let e=new Wu.Scalar(parseFloat(s.replace(/_/g,""))),t=s.indexOf(".");if(t!==-1){let n=s.substring(t+1).replace(/_/g,"");n[n.length-1]==="0"&&(e.minFractionDigits=n.length)}return e},stringify:Gn.stringifyNumber};Es.float=Xu;Es.floatExp=Qu;Es.floatNaN=Ju});var _o=C(vt=>{"use strict";var No=Je(),At=s=>typeof s=="bigint"||Number.isInteger(s);function Ns(s,e,t,{intAsBigInt:n}){let i=s[0];if((i==="-"||i==="+")&&(e+=1),s=s.substring(e).replace(/_/g,""),n){switch(t){case 2:s=`0b${s}`;break;case 8:s=`0o${s}`;break;case 16:s=`0x${s}`;break}let o=BigInt(s);return i==="-"?BigInt(-1)*o:o}let r=parseInt(s,t);return i==="-"?-1*r:r}function Yn(s,e,t){let{value:n}=s;if(At(n)){let i=n.toString(e);return n<0?"-"+t+i.substr(1):t+i}return No.stringifyNumber(s)}var zu={identify:At,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(s,e,t)=>Ns(s,2,2,t),stringify:s=>Yn(s,2,"0b")},Zu={identify:At,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(s,e,t)=>Ns(s,1,8,t),stringify:s=>Yn(s,8,"0")},ef={identify:At,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(s,e,t)=>Ns(s,0,10,t),stringify:No.stringifyNumber},tf={identify:At,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(s,e,t)=>Ns(s,2,16,t),stringify:s=>Yn(s,16,"0x")};vt.int=ef;vt.intBin=zu;vt.intHex=tf;vt.intOct=Zu});var Wn=C(Vn=>{"use strict";var Ls=P(),_s=Ne(),Ts=Te(),De=class s extends Ts.YAMLMap{constructor(e){super(e),this.tag=s.tag}add(e){let t;Ls.isPair(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new _s.Pair(e.key,null):t=new _s.Pair(e,null),Ts.findPair(this.items,t.key)||this.items.push(t)}get(e,t){let n=Ts.findPair(this.items,e);return!t&&Ls.isPair(n)?Ls.isScalar(n.key)?n.key.value:n.key:n}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);let n=Ts.findPair(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new _s.Pair(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}static from(e,t,n){let{replacer:i}=n,r=new this(e);if(t&&Symbol.iterator in Object(t))for(let o of t)typeof i=="function"&&(o=i.call(t,o,o)),r.items.push(_s.createPair(o,null,n));return r}};De.tag="tag:yaml.org,2002:set";var sf={collection:"map",identify:s=>s instanceof Set,nodeClass:De,default:!1,tag:"tag:yaml.org,2002:set",createNode:(s,e,t)=>De.from(s,e,t),resolve(s,e){if(Ls.isMap(s)){if(s.hasAllNullValues(!0))return Object.assign(new De,s);e("Set items must all have null values")}else e("Expected a mapping for this tag");return s}};Vn.YAMLSet=De;Vn.set=sf});var Qn=C(Rs=>{"use strict";var nf=Je();function Jn(s,e){let t=s[0],n=t==="-"||t==="+"?s.substring(1):s,i=o=>e?BigInt(o):Number(o),r=n.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return t==="-"?i(-1)*r:r}function To(s){let{value:e}=s,t=o=>o;if(typeof e=="bigint")t=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return nf.stringifyNumber(s);let n="";e<0&&(n="-",e*=t(-1));let i=t(60),r=[e%i];return e<60?r.unshift(0):(e=(e-r[0])/i,r.unshift(e%i),e>=60&&(e=(e-r[0])/i,r.unshift(e))),n+r.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var rf={identify:s=>typeof s=="bigint"||Number.isInteger(s),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(s,e,{intAsBigInt:t})=>Jn(s,t),stringify:To},of={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:s=>Jn(s,!1),stringify:To},Lo={identify:s=>s instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(s){let e=s.match(Lo.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,t,n,i,r,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0,c=Date.UTC(t,n-1,i,r||0,o||0,a||0,l),p=e[8];if(p&&p!=="Z"){let f=Jn(p,!1);Math.abs(f)<30&&(f*=60),c-=6e4*f}return new Date(c)},stringify:({value:s})=>s?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};Rs.floatTime=of;Rs.intTime=rf;Rs.timestamp=Lo});var qo=C(Io=>{"use strict";var af=Ve(),lf=bs(),cf=We(),uf=bt(),ff=xn(),Ro=Oo(),Xn=Eo(),Is=_o(),hf=us(),pf=Hn(),df=Os(),gf=Wn(),zn=Qn(),mf=[af.map,cf.seq,uf.string,lf.nullTag,Ro.trueTag,Ro.falseTag,Is.intBin,Is.intOct,Is.int,Is.intHex,Xn.floatNaN,Xn.floatExp,Xn.float,ff.binary,hf.merge,pf.omap,df.pairs,gf.set,zn.intTime,zn.floatTime,zn.timestamp];Io.schema=mf});var Ho=C(ti=>{"use strict";var Do=Ve(),yf=bs(),Bo=We(),bf=bt(),Sf=Rn(),Zn=qn(),ei=Pn(),wf=fo(),Af=go(),xo=xn(),Ct=us(),jo=Hn(),Fo=Os(),$o=qo(),Ko=Wn(),qs=Qn(),Po=new Map([["core",wf.schema],["failsafe",[Do.map,Bo.seq,bf.string]],["json",Af.schema],["yaml11",$o.schema],["yaml-1.1",$o.schema]]),Mo={binary:xo.binary,bool:Sf.boolTag,float:Zn.float,floatExp:Zn.floatExp,floatNaN:Zn.floatNaN,floatTime:qs.floatTime,int:ei.int,intHex:ei.intHex,intOct:ei.intOct,intTime:qs.intTime,map:Do.map,merge:Ct.merge,null:yf.nullTag,omap:jo.omap,pairs:Fo.pairs,seq:Bo.seq,set:Ko.set,timestamp:qs.timestamp},vf={"tag:yaml.org,2002:binary":xo.binary,"tag:yaml.org,2002:merge":Ct.merge,"tag:yaml.org,2002:omap":jo.omap,"tag:yaml.org,2002:pairs":Fo.pairs,"tag:yaml.org,2002:set":Ko.set,"tag:yaml.org,2002:timestamp":qs.timestamp};function Cf(s,e,t){let n=Po.get(e);if(n&&!s)return t&&!n.includes(Ct.merge)?n.concat(Ct.merge):n.slice();let i=n;if(!i)if(Array.isArray(s))i=[];else{let r=Array.from(Po.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${r} or define customTags array`)}if(Array.isArray(s))for(let r of s)i=i.concat(r);else typeof s=="function"&&(i=s(i.slice()));return t&&(i=i.concat(Ct.merge)),i.reduce((r,o)=>{let a=typeof o=="string"?Mo[o]:o;if(!a){let l=JSON.stringify(o),c=Object.keys(Mo).map(p=>JSON.stringify(p)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${c}`)}return r.includes(a)||r.push(a),r},[])}ti.coreKnownTags=vf;ti.getTags=Cf});var ii=C(Uo=>{"use strict";var si=P(),kf=Ve(),Of=We(),Ef=bt(),$s=Ho(),Nf=(s,e)=>s.key<e.key?-1:s.key>e.key?1:0,ni=class s{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:i,schema:r,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?$s.getTags(e,"compat"):e?$s.getTags(null,e):null,this.name=typeof r=="string"&&r||"core",this.knownTags=i?$s.coreKnownTags:{},this.tags=$s.getTags(t,this.name,n),this.toStringOptions=a??null,Object.defineProperty(this,si.MAP,{value:kf.map}),Object.defineProperty(this,si.SCALAR,{value:Ef.string}),Object.defineProperty(this,si.SEQ,{value:Of.seq}),this.sortMapEntries=typeof o=="function"?o:o===!0?Nf:null}clone(){let e=Object.create(s.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};Uo.Schema=ni});var Yo=C(Go=>{"use strict";var _f=P(),ri=dt(),kt=ut();function Tf(s,e){let t=[],n=e.directives===!0;if(e.directives!==!1&&s.directives){let l=s.directives.toString(s);l?(t.push(l),n=!0):s.directives.docStart&&(n=!0)}n&&t.push("---");let i=ri.createStringifyContext(s,e),{commentString:r}=i.options;if(s.commentBefore){t.length!==1&&t.unshift("");let l=r(s.commentBefore);t.unshift(kt.indentComment(l,""))}let o=!1,a=null;if(s.contents){if(_f.isNode(s.contents)){if(s.contents.spaceBefore&&n&&t.push(""),s.contents.commentBefore){let p=r(s.contents.commentBefore);t.push(kt.indentComment(p,""))}i.forceBlockIndent=!!s.comment,a=s.contents.comment}let l=a?void 0:()=>o=!0,c=ri.stringify(s.contents,i,()=>a=null,l);a&&(c+=kt.lineComment(c,"",r(a))),(c[0]==="|"||c[0]===">")&&t[t.length-1]==="---"?t[t.length-1]=`--- ${c}`:t.push(c)}else t.push(ri.stringify(s.contents,i));if(s.directives?.docEnd)if(s.comment){let l=r(s.comment);l.includes(`
`)?(t.push("..."),t.push(kt.indentComment(l,""))):t.push(`... ${l}`)}else t.push("...");else{let l=s.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&t[t.length-1]!==""&&t.push(""),t.push(kt.indentComment(r(l),"")))}return t.join(`
`)+`
`}Go.stringifyDocument=Tf});var Ot=C(Vo=>{"use strict";var Lf=lt(),Qe=ts(),oe=P(),Rf=Ne(),If=Ce(),qf=ii(),$f=Yo(),oi=Xt(),Pf=un(),Mf=ct(),ai=cn(),li=class s{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,oe.NODE_TYPE,{value:oe.DOC});let i=null;typeof t=="function"||Array.isArray(t)?i=t:n===void 0&&t&&(n=t,t=void 0);let r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=r;let{version:o}=r;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new ai.Directives({version:o}),this.setSchema(o,n),this.contents=e===void 0?null:this.createNode(e,i,n)}clone(){let e=Object.create(s.prototype,{[oe.NODE_TYPE]:{value:oe.DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=oe.isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Xe(this.contents)&&this.contents.add(e)}addIn(e,t){Xe(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){let n=oi.anchorNames(this);e.anchor=!t||n.has(t)?oi.findNewAnchor(t||"a",n):t}return new Lf.Alias(e.anchor)}createNode(e,t,n){let i;if(typeof t=="function")e=t.call({"":e},"",e),i=t;else if(Array.isArray(t)){let b=A=>typeof A=="number"||A instanceof String||A instanceof Number,O=t.filter(b).map(String);O.length>0&&(t=t.concat(O)),i=t}else n===void 0&&t&&(n=t,t=void 0);let{aliasDuplicateObjects:r,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:p}=n??{},{onAnchor:f,setAnchors:u,sourceObjects:y}=oi.createNodeAnchors(this,o||"a"),w={aliasDuplicateObjects:r??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:c,replacer:i,schema:this.schema,sourceObjects:y},h=Mf.createNode(e,p,w);return a&&oe.isCollection(h)&&(h.flow=!0),u(),h}createPair(e,t,n={}){let i=this.createNode(e,null,n),r=this.createNode(t,null,n);return new Rf.Pair(i,r)}delete(e){return Xe(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Qe.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):Xe(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return oe.isCollection(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return Qe.isEmptyPath(e)?!t&&oe.isScalar(this.contents)?this.contents.value:this.contents:oe.isCollection(this.contents)?this.contents.getIn(e,t):void 0}has(e){return oe.isCollection(this.contents)?this.contents.has(e):!1}hasIn(e){return Qe.isEmptyPath(e)?this.contents!==void 0:oe.isCollection(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=Qe.collectionFromPath(this.schema,[e],t):Xe(this.contents)&&this.contents.set(e,t)}setIn(e,t){Qe.isEmptyPath(e)?this.contents=t:this.contents==null?this.contents=Qe.collectionFromPath(this.schema,Array.from(e),t):Xe(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let n;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new ai.Directives({version:"1.1"}),n={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new ai.Directives({version:e}),n={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(n)this.schema=new qf.Schema(Object.assign(n,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:i,onAnchor:r,reviver:o}={}){let a={anchors:new Map,doc:this,keep:!e,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=If.toJS(this.contents,t??"",a);if(typeof r=="function")for(let{count:c,res:p}of a.anchors.values())r(p,c);return typeof o=="function"?Pf.applyReviver(o,{"":l},"",l):l}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return $f.stringifyDocument(this,e)}};function Xe(s){if(oe.isCollection(s))return!0;throw new Error("Expected a YAML collection as document contents")}Vo.Document=li});var _t=C(Nt=>{"use strict";var Et=class extends Error{constructor(e,t,n,i){super(),this.name=e,this.code=n,this.message=i,this.pos=t}},ci=class extends Et{constructor(e,t,n){super("YAMLParseError",e,t,n)}},ui=class extends Et{constructor(e,t,n){super("YAMLWarning",e,t,n)}},Df=(s,e)=>t=>{if(t.pos[0]===-1)return;t.linePos=t.pos.map(a=>e.linePos(a));let{line:n,col:i}=t.linePos[0];t.message+=` at line ${n}, column ${i}`;let r=i-1,o=s.substring(e.lineStarts[n-1],e.lineStarts[n]).replace(/[\n\r]+$/,"");if(r>=60&&o.length>80){let a=Math.min(r-39,o.length-79);o="\u2026"+o.substring(a),r-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),n>1&&/^ *$/.test(o.substring(0,r))){let a=s.substring(e.lineStarts[n-2],e.lineStarts[n-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),o=a+o}if(/[^ ]/.test(o)){let a=1,l=t.linePos[1];l&&l.line===n&&l.col>i&&(a=Math.max(1,Math.min(l.col-i,80-r)));let c=" ".repeat(r)+"^".repeat(a);t.message+=`:

${o}
${c}
`}};Nt.YAMLError=Et;Nt.YAMLParseError=ci;Nt.YAMLWarning=ui;Nt.prettifyError=Df});var Tt=C(Wo=>{"use strict";function Bf(s,{flow:e,indicator:t,next:n,offset:i,onError:r,parentIndent:o,startOnNewline:a}){let l=!1,c=a,p=a,f="",u="",y=!1,w=!1,h=null,b=null,O=null,A=null,_=null,L=null,E=null;for(let S of s)switch(w&&(S.type!=="space"&&S.type!=="newline"&&S.type!=="comma"&&r(S.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),w=!1),h&&(c&&S.type!=="comment"&&S.type!=="newline"&&r(h,"TAB_AS_INDENT","Tabs are not allowed as indentation"),h=null),S.type){case"space":!e&&(t!=="doc-start"||n?.type!=="flow-collection")&&S.source.includes("	")&&(h=S),p=!0;break;case"comment":{p||r(S,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let T=S.source.substring(1)||" ";f?f+=u+T:f=T,u="",c=!1;break}case"newline":c?f?f+=S.source:(!L||t!=="seq-item-ind")&&(l=!0):u+=S.source,c=!0,y=!0,(b||O)&&(A=S),p=!0;break;case"anchor":b&&r(S,"MULTIPLE_ANCHORS","A node can have at most one anchor"),S.source.endsWith(":")&&r(S.offset+S.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),b=S,E??(E=S.offset),c=!1,p=!1,w=!0;break;case"tag":{O&&r(S,"MULTIPLE_TAGS","A node can have at most one tag"),O=S,E??(E=S.offset),c=!1,p=!1,w=!0;break}case t:(b||O)&&r(S,"BAD_PROP_ORDER",`Anchors and tags must be after the ${S.source} indicator`),L&&r(S,"UNEXPECTED_TOKEN",`Unexpected ${S.source} in ${e??"collection"}`),L=S,c=t==="seq-item-ind"||t==="explicit-key-ind",p=!1;break;case"comma":if(e){_&&r(S,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),_=S,c=!1,p=!1;break}default:r(S,"UNEXPECTED_TOKEN",`Unexpected ${S.type} token`),c=!1,p=!1}let N=s[s.length-1],R=N?N.offset+N.source.length:i;return w&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&r(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),h&&(c&&h.indent<=o||n?.type==="block-map"||n?.type==="block-seq")&&r(h,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:_,found:L,spaceBefore:l,comment:f,hasNewline:y,anchor:b,tag:O,newlineAfterProp:A,end:R,start:E??R}}Wo.resolveProps=Bf});var Ps=C(Jo=>{"use strict";function fi(s){if(!s)return null;switch(s.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(s.source.includes(`
`))return!0;if(s.end){for(let e of s.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(let e of s.items){for(let t of e.start)if(t.type==="newline")return!0;if(e.sep){for(let t of e.sep)if(t.type==="newline")return!0}if(fi(e.key)||fi(e.value))return!0}return!1;default:return!0}}Jo.containsNewline=fi});var hi=C(Qo=>{"use strict";var xf=Ps();function jf(s,e,t){if(e?.type==="flow-collection"){let n=e.end[0];n.indent===s&&(n.source==="]"||n.source==="}")&&xf.containsNewline(e)&&t(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}Qo.flowIndentCheck=jf});var pi=C(zo=>{"use strict";var Xo=P();function Ff(s,e,t){let{uniqueKeys:n}=s.options;if(n===!1)return!1;let i=typeof n=="function"?n:(r,o)=>r===o||Xo.isScalar(r)&&Xo.isScalar(o)&&r.value===o.value;return e.some(r=>i(r.key,t))}zo.mapIncludes=Ff});var ia=C(na=>{"use strict";var Zo=Ne(),Kf=Te(),ea=Tt(),Hf=Ps(),ta=hi(),Uf=pi(),sa="All mapping items must start at the same column";function Gf({composeNode:s,composeEmptyNode:e},t,n,i,r){let o=r?.nodeClass??Kf.YAMLMap,a=new o(t.schema);t.atRoot&&(t.atRoot=!1);let l=n.offset,c=null;for(let p of n.items){let{start:f,key:u,sep:y,value:w}=p,h=ea.resolveProps(f,{indicator:"explicit-key-ind",next:u??y?.[0],offset:l,onError:i,parentIndent:n.indent,startOnNewline:!0}),b=!h.found;if(b){if(u&&(u.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==n.indent&&i(l,"BAD_INDENT",sa)),!h.anchor&&!h.tag&&!y){c=h.end,h.comment&&(a.comment?a.comment+=`
`+h.comment:a.comment=h.comment);continue}(h.newlineAfterProp||Hf.containsNewline(u))&&i(u??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else h.found?.indent!==n.indent&&i(l,"BAD_INDENT",sa);t.atKey=!0;let O=h.end,A=u?s(t,u,h,i):e(t,O,f,null,h,i);t.schema.compat&&ta.flowIndentCheck(n.indent,u,i),t.atKey=!1,Uf.mapIncludes(t,a.items,A)&&i(O,"DUPLICATE_KEY","Map keys must be unique");let _=ea.resolveProps(y??[],{indicator:"map-value-ind",next:w,offset:A.range[2],onError:i,parentIndent:n.indent,startOnNewline:!u||u.type==="block-scalar"});if(l=_.end,_.found){b&&(w?.type==="block-map"&&!_.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&h.start<_.found.offset-1024&&i(A.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let L=w?s(t,w,_,i):e(t,l,y,null,_,i);t.schema.compat&&ta.flowIndentCheck(n.indent,w,i),l=L.range[2];let E=new Zo.Pair(A,L);t.options.keepSourceTokens&&(E.srcToken=p),a.items.push(E)}else{b&&i(A.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),_.comment&&(A.comment?A.comment+=`
`+_.comment:A.comment=_.comment);let L=new Zo.Pair(A);t.options.keepSourceTokens&&(L.srcToken=p),a.items.push(L)}}return c&&c<l&&i(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[n.offset,l,c??l],a}na.resolveBlockMap=Gf});var oa=C(ra=>{"use strict";var Yf=Le(),Vf=Tt(),Wf=hi();function Jf({composeNode:s,composeEmptyNode:e},t,n,i,r){let o=r?.nodeClass??Yf.YAMLSeq,a=new o(t.schema);t.atRoot&&(t.atRoot=!1),t.atKey&&(t.atKey=!1);let l=n.offset,c=null;for(let{start:p,value:f}of n.items){let u=Vf.resolveProps(p,{indicator:"seq-item-ind",next:f,offset:l,onError:i,parentIndent:n.indent,startOnNewline:!0});if(!u.found)if(u.anchor||u.tag||f)f&&f.type==="block-seq"?i(u.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{c=u.end,u.comment&&(a.comment=u.comment);continue}let y=f?s(t,f,u,i):e(t,u.end,p,null,u,i);t.schema.compat&&Wf.flowIndentCheck(n.indent,f,i),l=y.range[2],a.items.push(y)}return a.range=[n.offset,l,c??l],a}ra.resolveBlockSeq=Jf});var ze=C(aa=>{"use strict";function Qf(s,e,t,n){let i="";if(s){let r=!1,o="";for(let a of s){let{source:l,type:c}=a;switch(c){case"space":r=!0;break;case"comment":{t&&!r&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let p=l.substring(1)||" ";i?i+=o+p:i=p,o="";break}case"newline":i&&(o+=l),r=!0;break;default:n(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:i,offset:e}}aa.resolveEnd=Qf});var fa=C(ua=>{"use strict";var Xf=P(),zf=Ne(),la=Te(),Zf=Le(),eh=ze(),ca=Tt(),th=Ps(),sh=pi(),di="Block collections are not allowed within flow collections",gi=s=>s&&(s.type==="block-map"||s.type==="block-seq");function nh({composeNode:s,composeEmptyNode:e},t,n,i,r){let o=n.start.source==="{",a=o?"flow map":"flow sequence",l=r?.nodeClass??(o?la.YAMLMap:Zf.YAMLSeq),c=new l(t.schema);c.flow=!0;let p=t.atRoot;p&&(t.atRoot=!1),t.atKey&&(t.atKey=!1);let f=n.offset+n.start.source.length;for(let b=0;b<n.items.length;++b){let O=n.items[b],{start:A,key:_,sep:L,value:E}=O,N=ca.resolveProps(A,{flow:a,indicator:"explicit-key-ind",next:_??L?.[0],offset:f,onError:i,parentIndent:n.indent,startOnNewline:!1});if(!N.found){if(!N.anchor&&!N.tag&&!L&&!E){b===0&&N.comma?i(N.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):b<n.items.length-1&&i(N.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),N.comment&&(c.comment?c.comment+=`
`+N.comment:c.comment=N.comment),f=N.end;continue}!o&&t.options.strict&&th.containsNewline(_)&&i(_,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(b===0)N.comma&&i(N.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(N.comma||i(N.start,"MISSING_CHAR",`Missing , between ${a} items`),N.comment){let R="";e:for(let S of A)switch(S.type){case"comma":case"space":break;case"comment":R=S.source.substring(1);break e;default:break e}if(R){let S=c.items[c.items.length-1];Xf.isPair(S)&&(S=S.value??S.key),S.comment?S.comment+=`
`+R:S.comment=R,N.comment=N.comment.substring(R.length+1)}}if(!o&&!L&&!N.found){let R=E?s(t,E,N,i):e(t,N.end,L,null,N,i);c.items.push(R),f=R.range[2],gi(E)&&i(R.range,"BLOCK_IN_FLOW",di)}else{t.atKey=!0;let R=N.end,S=_?s(t,_,N,i):e(t,R,A,null,N,i);gi(_)&&i(S.range,"BLOCK_IN_FLOW",di),t.atKey=!1;let T=ca.resolveProps(L??[],{flow:a,indicator:"map-value-ind",next:E,offset:S.range[2],onError:i,parentIndent:n.indent,startOnNewline:!1});if(T.found){if(!o&&!N.found&&t.options.strict){if(L)for(let I of L){if(I===T.found)break;if(I.type==="newline"){i(I,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}N.start<T.found.offset-1024&&i(T.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else E&&("source"in E&&E.source&&E.source[0]===":"?i(E,"MISSING_CHAR",`Missing space after : in ${a}`):i(T.start,"MISSING_CHAR",`Missing , or : between ${a} items`));let d=E?s(t,E,T,i):T.found?e(t,T.end,L,null,T,i):null;d?gi(E)&&i(d.range,"BLOCK_IN_FLOW",di):T.comment&&(S.comment?S.comment+=`
`+T.comment:S.comment=T.comment);let U=new zf.Pair(S,d);if(t.options.keepSourceTokens&&(U.srcToken=O),o){let I=c;sh.mapIncludes(t,I.items,S)&&i(R,"DUPLICATE_KEY","Map keys must be unique"),I.items.push(U)}else{let I=new la.YAMLMap(t.schema);I.flow=!0,I.items.push(U);let x=(d??S).range;I.range=[S.range[0],x[1],x[2]],c.items.push(I)}f=d?d.range[2]:T.end}}let u=o?"}":"]",[y,...w]=n.end,h=f;if(y&&y.source===u)h=y.offset+y.source.length;else{let b=a[0].toUpperCase()+a.substring(1),O=p?`${b} must end with a ${u}`:`${b} in block collection must be sufficiently indented and end with a ${u}`;i(f,p?"MISSING_CHAR":"BAD_INDENT",O),y&&y.source.length!==1&&w.unshift(y)}if(w.length>0){let b=eh.resolveEnd(w,h,t.options.strict,i);b.comment&&(c.comment?c.comment+=`
`+b.comment:c.comment=b.comment),c.range=[n.offset,h,b.offset]}else c.range=[n.offset,h,h];return c}ua.resolveFlowCollection=nh});var pa=C(ha=>{"use strict";var ih=P(),rh=Y(),oh=Te(),ah=Le(),lh=ia(),ch=oa(),uh=fa();function mi(s,e,t,n,i,r){let o=t.type==="block-map"?lh.resolveBlockMap(s,e,t,n,r):t.type==="block-seq"?ch.resolveBlockSeq(s,e,t,n,r):uh.resolveFlowCollection(s,e,t,n,r),a=o.constructor;return i==="!"||i===a.tagName?(o.tag=a.tagName,o):(i&&(o.tag=i),o)}function fh(s,e,t,n,i){let r=n.tag,o=r?e.directives.tagName(r.source,u=>i(r,"TAG_RESOLVE_FAILED",u)):null;if(t.type==="block-seq"){let{anchor:u,newlineAfterProp:y}=n,w=u&&r?u.offset>r.offset?u:r:u??r;w&&(!y||y.offset<w.offset)&&i(w,"MISSING_CHAR","Missing newline after block sequence props")}let a=t.type==="block-map"?"map":t.type==="block-seq"?"seq":t.start.source==="{"?"map":"seq";if(!r||!o||o==="!"||o===oh.YAMLMap.tagName&&a==="map"||o===ah.YAMLSeq.tagName&&a==="seq")return mi(s,e,t,i,o);let l=e.schema.tags.find(u=>u.tag===o&&u.collection===a);if(!l){let u=e.schema.knownTags[o];if(u&&u.collection===a)e.schema.tags.push(Object.assign({},u,{default:!1})),l=u;else return u?i(r,"BAD_COLLECTION_TYPE",`${u.tag} used for ${a} collection, but expects ${u.collection??"scalar"}`,!0):i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),mi(s,e,t,i,o)}let c=mi(s,e,t,i,o,l),p=l.resolve?.(c,u=>i(r,"TAG_RESOLVE_FAILED",u),e.options)??c,f=ih.isNode(p)?p:new rh.Scalar(p);return f.range=c.range,f.tag=o,l?.format&&(f.format=l.format),f}ha.composeCollection=fh});var bi=C(da=>{"use strict";var yi=Y();function hh(s,e,t){let n=e.offset,i=ph(e,s.options.strict,t);if(!i)return{value:"",type:null,comment:"",range:[n,n,n]};let r=i.mode===">"?yi.Scalar.BLOCK_FOLDED:yi.Scalar.BLOCK_LITERAL,o=e.source?dh(e.source):[],a=o.length;for(let h=o.length-1;h>=0;--h){let b=o[h][1];if(b===""||b==="\r")a=h;else break}if(a===0){let h=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"",b=n+i.length;return e.source&&(b+=e.source.length),{value:h,type:r,comment:i.comment,range:[n,b,b]}}let l=e.indent+i.indent,c=e.offset+i.length,p=0;for(let h=0;h<a;++h){let[b,O]=o[h];if(O===""||O==="\r")i.indent===0&&b.length>l&&(l=b.length);else{b.length<l&&t(c+b.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(l=b.length),p=h,l===0&&!s.atRoot&&t(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=b.length+O.length+1}for(let h=o.length-1;h>=a;--h)o[h][0].length>l&&(a=h+1);let f="",u="",y=!1;for(let h=0;h<p;++h)f+=o[h][0].slice(l)+`
`;for(let h=p;h<a;++h){let[b,O]=o[h];c+=b.length+O.length+1;let A=O[O.length-1]==="\r";if(A&&(O=O.slice(0,-1)),O&&b.length<l){let L=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;t(c-O.length-(A?2:1),"BAD_INDENT",L),b=""}r===yi.Scalar.BLOCK_LITERAL?(f+=u+b.slice(l)+O,u=`
`):b.length>l||O[0]==="	"?(u===" "?u=`
`:!y&&u===`
`&&(u=`

`),f+=u+b.slice(l)+O,u=`
`,y=!0):O===""?u===`
`?f+=`
`:u=`
`:(f+=u+O,u=" ",y=!1)}switch(i.chomp){case"-":break;case"+":for(let h=a;h<o.length;++h)f+=`
`+o[h][0].slice(l);f[f.length-1]!==`
`&&(f+=`
`);break;default:f+=`
`}let w=n+i.length+e.source.length;return{value:f,type:r,comment:i.comment,range:[n,w,w]}}function ph({offset:s,props:e},t,n){if(e[0].type!=="block-scalar-header")return n(e[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:i}=e[0],r=i[0],o=0,a="",l=-1;for(let u=1;u<i.length;++u){let y=i[u];if(!a&&(y==="-"||y==="+"))a=y;else{let w=Number(y);!o&&w?o=w:l===-1&&(l=s+u)}}l!==-1&&n(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let c=!1,p="",f=i.length;for(let u=1;u<e.length;++u){let y=e[u];switch(y.type){case"space":c=!0;case"newline":f+=y.source.length;break;case"comment":t&&!c&&n(y,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=y.source.length,p=y.source.substring(1);break;case"error":n(y,"UNEXPECTED_TOKEN",y.message),f+=y.source.length;break;default:{let w=`Unexpected token in block scalar header: ${y.type}`;n(y,"UNEXPECTED_TOKEN",w);let h=y.source;h&&typeof h=="string"&&(f+=h.length)}}}return{mode:r,indent:o,chomp:a,comment:p,length:f}}function dh(s){let e=s.split(/\n( *)/),t=e[0],n=t.match(/^( *)/),r=[n?.[1]?[n[1],t.slice(n[1].length)]:["",t]];for(let o=1;o<e.length;o+=2)r.push([e[o],e[o+1]]);return r}da.resolveBlockScalar=hh});var wi=C(ma=>{"use strict";var Si=Y(),gh=ze();function mh(s,e,t){let{offset:n,type:i,source:r,end:o}=s,a,l,c=(u,y,w)=>t(n+u,y,w);switch(i){case"scalar":a=Si.Scalar.PLAIN,l=yh(r,c);break;case"single-quoted-scalar":a=Si.Scalar.QUOTE_SINGLE,l=bh(r,c);break;case"double-quoted-scalar":a=Si.Scalar.QUOTE_DOUBLE,l=Sh(r,c);break;default:return t(s,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[n,n+r.length,n+r.length]}}let p=n+r.length,f=gh.resolveEnd(o,p,e,t);return{value:l,type:a,comment:f.comment,range:[n,p,f.offset]}}function yh(s,e){let t="";switch(s[0]){case"	":t="a tab character";break;case",":t="flow indicator character ,";break;case"%":t="directive indicator character %";break;case"|":case">":{t=`block scalar indicator ${s[0]}`;break}case"@":case"`":{t=`reserved character ${s[0]}`;break}}return t&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${t}`),ga(s)}function bh(s,e){return(s[s.length-1]!=="'"||s.length===1)&&e(s.length,"MISSING_CHAR","Missing closing 'quote"),ga(s.slice(1,-1)).replace(/''/g,"'")}function ga(s){let e,t;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),t=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,t=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=e.exec(s);if(!n)return s;let i=n[1],r=" ",o=e.lastIndex;for(t.lastIndex=o;n=t.exec(s);)n[1]===""?r===`
`?i+=r:r=`
`:(i+=r+n[1],r=" "),o=t.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=o,n=a.exec(s),i+r+(n?.[1]??"")}function Sh(s,e){let t="";for(let n=1;n<s.length-1;++n){let i=s[n];if(!(i==="\r"&&s[n+1]===`
`))if(i===`
`){let{fold:r,offset:o}=wh(s,n);t+=r,n=o}else if(i==="\\"){let r=s[++n],o=Ah[r];if(o)t+=o;else if(r===`
`)for(r=s[n+1];r===" "||r==="	";)r=s[++n+1];else if(r==="\r"&&s[n+1]===`
`)for(r=s[++n+1];r===" "||r==="	";)r=s[++n+1];else if(r==="x"||r==="u"||r==="U"){let a={x:2,u:4,U:8}[r];t+=vh(s,n+1,a,e),n+=a}else{let a=s.substr(n-1,2);e(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),t+=a}}else if(i===" "||i==="	"){let r=n,o=s[n+1];for(;o===" "||o==="	";)o=s[++n+1];o!==`
`&&!(o==="\r"&&s[n+2]===`
`)&&(t+=n>r?s.slice(r,n+1):i)}else t+=i}return(s[s.length-1]!=='"'||s.length===1)&&e(s.length,"MISSING_CHAR",'Missing closing "quote'),t}function wh(s,e){let t="",n=s[e+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&s[e+2]!==`
`);)n===`
`&&(t+=`
`),e+=1,n=s[e+1];return t||(t=" "),{fold:t,offset:e}}var Ah={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function vh(s,e,t,n){let i=s.substr(e,t),o=i.length===t&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){let a=s.substr(e-2,t+2);return n(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}ma.resolveFlowScalar=mh});var Sa=C(ba=>{"use strict";var Be=P(),ya=Y(),Ch=bi(),kh=wi();function Oh(s,e,t,n){let{value:i,type:r,comment:o,range:a}=e.type==="block-scalar"?Ch.resolveBlockScalar(s,e,n):kh.resolveFlowScalar(e,s.options.strict,n),l=t?s.directives.tagName(t.source,f=>n(t,"TAG_RESOLVE_FAILED",f)):null,c;s.options.stringKeys&&s.atKey?c=s.schema[Be.SCALAR]:l?c=Eh(s.schema,i,l,t,n):e.type==="scalar"?c=Nh(s,i,e,n):c=s.schema[Be.SCALAR];let p;try{let f=c.resolve(i,u=>n(t??e,"TAG_RESOLVE_FAILED",u),s.options);p=Be.isScalar(f)?f:new ya.Scalar(f)}catch(f){let u=f instanceof Error?f.message:String(f);n(t??e,"TAG_RESOLVE_FAILED",u),p=new ya.Scalar(i)}return p.range=a,p.source=i,r&&(p.type=r),l&&(p.tag=l),c.format&&(p.format=c.format),o&&(p.comment=o),p}function Eh(s,e,t,n,i){if(t==="!")return s[Be.SCALAR];let r=[];for(let a of s.tags)if(!a.collection&&a.tag===t)if(a.default&&a.test)r.push(a);else return a;for(let a of r)if(a.test?.test(e))return a;let o=s.knownTags[t];return o&&!o.collection?(s.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${t}`,t!=="tag:yaml.org,2002:str"),s[Be.SCALAR])}function Nh({atKey:s,directives:e,schema:t},n,i,r){let o=t.tags.find(a=>(a.default===!0||s&&a.default==="key")&&a.test?.test(n))||t[Be.SCALAR];if(t.compat){let a=t.compat.find(l=>l.default&&l.test?.test(n))??t[Be.SCALAR];if(o.tag!==a.tag){let l=e.tagString(o.tag),c=e.tagString(a.tag),p=`Value may be parsed as either ${l} or ${c}`;r(i,"TAG_RESOLVE_FAILED",p,!0)}}return o}ba.composeScalar=Oh});var Aa=C(wa=>{"use strict";function _h(s,e,t){if(e){t??(t=e.length);for(let n=t-1;n>=0;--n){let i=e[n];switch(i.type){case"space":case"comment":case"newline":s-=i.source.length;continue}for(i=e[++n];i?.type==="space";)s+=i.source.length,i=e[++n];break}}return s}wa.emptyScalarPosition=_h});var ka=C(vi=>{"use strict";var Th=lt(),Lh=P(),Rh=pa(),va=Sa(),Ih=ze(),qh=Aa(),$h={composeNode:Ca,composeEmptyNode:Ai};function Ca(s,e,t,n){let i=s.atKey,{spaceBefore:r,comment:o,anchor:a,tag:l}=t,c,p=!0;switch(e.type){case"alias":c=Ph(s,e,n),(a||l)&&n(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=va.composeScalar(s,e,l,n),a&&(c.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=Rh.composeCollection($h,s,e,t,n),a&&(c.anchor=a.source.substring(1));break;default:{let f=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;n(e,"UNEXPECTED_TOKEN",f),c=Ai(s,e.offset,void 0,null,t,n),p=!1}}return a&&c.anchor===""&&n(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&s.options.stringKeys&&(!Lh.isScalar(c)||typeof c.value!="string"||c.tag&&c.tag!=="tag:yaml.org,2002:str")&&n(l??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),r&&(c.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?c.comment=o:c.commentBefore=o),s.options.keepSourceTokens&&p&&(c.srcToken=e),c}function Ai(s,e,t,n,{spaceBefore:i,comment:r,anchor:o,tag:a,end:l},c){let p={type:"scalar",offset:qh.emptyScalarPosition(e,t,n),indent:-1,source:""},f=va.composeScalar(s,p,a,c);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(f.spaceBefore=!0),r&&(f.comment=r,f.range[2]=l),f}function Ph({options:s},{offset:e,source:t,end:n},i){let r=new Th.Alias(t.substring(1));r.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),r.source.endsWith(":")&&i(e+t.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let o=e+t.length,a=Ih.resolveEnd(n,o,s.strict,i);return r.range=[e,o,a.offset],a.comment&&(r.comment=a.comment),r}vi.composeEmptyNode=Ai;vi.composeNode=Ca});var Na=C(Ea=>{"use strict";var Mh=Ot(),Oa=ka(),Dh=ze(),Bh=Tt();function xh(s,e,{offset:t,start:n,value:i,end:r},o){let a=Object.assign({_directives:e},s),l=new Mh.Document(void 0,a),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},p=Bh.resolveProps(n,{indicator:"doc-start",next:i??r?.[0],offset:t,onError:o,parentIndent:0,startOnNewline:!0});p.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!p.hasNewline&&o(p.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?Oa.composeNode(c,i,p,o):Oa.composeEmptyNode(c,p.end,n,null,p,o);let f=l.contents.range[2],u=Dh.resolveEnd(r,f,!1,o);return u.comment&&(l.comment=u.comment),l.range=[t,f,u.offset],l}Ea.composeDoc=xh});var ki=C(La=>{"use strict";var jh=z("process"),Fh=cn(),Kh=Ot(),Lt=_t(),_a=P(),Hh=Na(),Uh=ze();function Rt(s){if(typeof s=="number")return[s,s+1];if(Array.isArray(s))return s.length===2?s:[s[0],s[1]];let{offset:e,source:t}=s;return[e,e+(typeof t=="string"?t.length:1)]}function Ta(s){let e="",t=!1,n=!1;for(let i=0;i<s.length;++i){let r=s[i];switch(r[0]){case"#":e+=(e===""?"":n?`

`:`
`)+(r.substring(1)||" "),t=!0,n=!1;break;case"%":s[i+1]?.[0]!=="#"&&(i+=1),t=!1;break;default:t||(n=!0),t=!1}}return{comment:e,afterEmptyLine:n}}var Ci=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,n,i,r)=>{let o=Rt(t);r?this.warnings.push(new Lt.YAMLWarning(o,n,i)):this.errors.push(new Lt.YAMLParseError(o,n,i))},this.directives=new Fh.Directives({version:e.version||"1.2"}),this.options=e}decorate(e,t){let{comment:n,afterEmptyLine:i}=Ta(this.prelude);if(n){let r=e.contents;if(t)e.comment=e.comment?`${e.comment}
${n}`:n;else if(i||e.directives.docStart||!r)e.commentBefore=n;else if(_a.isCollection(r)&&!r.flow&&r.items.length>0){let o=r.items[0];_a.isPair(o)&&(o=o.key);let a=o.commentBefore;o.commentBefore=a?`${n}
${a}`:n}else{let o=r.commentBefore;r.commentBefore=o?`${n}
${o}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Ta(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(let i of e)yield*this.next(i);yield*this.end(t,n)}*next(e){switch(jh.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,(t,n,i)=>{let r=Rt(e);r[0]+=t,this.onError(r,"BAD_DIRECTIVE",n,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let t=Hh.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new Lt.YAMLParseError(Rt(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){let n="Unexpected doc-end without preceding document";this.errors.push(new Lt.YAMLParseError(Rt(e),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;let t=Uh.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){let n=this.doc.comment;this.doc.comment=n?`${n}
${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new Lt.YAMLParseError(Rt(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let n=Object.assign({_directives:this.directives},this.options),i=new Kh.Document(void 0,n);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,t,t],this.decorate(i,!1),yield i}}};La.Composer=Ci});var qa=C(Ms=>{"use strict";var Gh=bi(),Yh=wi(),Vh=_t(),Ra=pt();function Wh(s,e=!0,t){if(s){let n=(i,r,o)=>{let a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(t)t(a,r,o);else throw new Vh.YAMLParseError([a,a+1],r,o)};switch(s.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Yh.resolveFlowScalar(s,e,n);case"block-scalar":return Gh.resolveBlockScalar({options:{strict:e}},s,n)}}return null}function Jh(s,e){let{implicitKey:t=!1,indent:n,inFlow:i=!1,offset:r=-1,type:o="PLAIN"}=e,a=Ra.stringifyString({type:o,value:s},{implicitKey:t,indent:n>0?" ".repeat(n):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),l=e.end??[{type:"newline",offset:-1,indent:n,source:`
`}];switch(a[0]){case"|":case">":{let c=a.indexOf(`
`),p=a.substring(0,c),f=a.substring(c+1)+`
`,u=[{type:"block-scalar-header",offset:r,indent:n,source:p}];return Ia(u,l)||u.push({type:"newline",offset:-1,indent:n,source:`
`}),{type:"block-scalar",offset:r,indent:n,props:u,source:f}}case'"':return{type:"double-quoted-scalar",offset:r,indent:n,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:r,indent:n,source:a,end:l};default:return{type:"scalar",offset:r,indent:n,source:a,end:l}}}function Qh(s,e,t={}){let{afterKey:n=!1,implicitKey:i=!1,inFlow:r=!1,type:o}=t,a="indent"in s?s.indent:null;if(n&&typeof a=="number"&&(a+=2),!o)switch(s.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{let c=s.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}let l=Ra.stringifyString({type:o,value:e},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":Xh(s,l);break;case'"':Oi(s,l,"double-quoted-scalar");break;case"'":Oi(s,l,"single-quoted-scalar");break;default:Oi(s,l,"scalar")}}function Xh(s,e){let t=e.indexOf(`
`),n=e.substring(0,t),i=e.substring(t+1)+`
`;if(s.type==="block-scalar"){let r=s.props[0];if(r.type!=="block-scalar-header")throw new Error("Invalid block scalar header");r.source=n,s.source=i}else{let{offset:r}=s,o="indent"in s?s.indent:-1,a=[{type:"block-scalar-header",offset:r,indent:o,source:n}];Ia(a,"end"in s?s.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(let l of Object.keys(s))l!=="type"&&l!=="offset"&&delete s[l];Object.assign(s,{type:"block-scalar",indent:o,props:a,source:i})}}function Ia(s,e){if(e)for(let t of e)switch(t.type){case"space":case"comment":s.push(t);break;case"newline":return s.push(t),!0}return!1}function Oi(s,e,t){switch(s.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":s.type=t,s.source=e;break;case"block-scalar":{let n=s.props.slice(1),i=e.length;s.props[0].type==="block-scalar-header"&&(i-=s.props[0].source.length);for(let r of n)r.offset+=i;delete s.props,Object.assign(s,{type:t,source:e,end:n});break}case"block-map":case"block-seq":{let i={type:"newline",offset:s.offset+e.length,indent:s.indent,source:`
`};delete s.items,Object.assign(s,{type:t,source:e,end:[i]});break}default:{let n="indent"in s?s.indent:-1,i="end"in s&&Array.isArray(s.end)?s.end.filter(r=>r.type==="space"||r.type==="comment"||r.type==="newline"):[];for(let r of Object.keys(s))r!=="type"&&r!=="offset"&&delete s[r];Object.assign(s,{type:t,indent:n,source:e,end:i})}}}Ms.createScalarToken=Jh;Ms.resolveAsScalar=Wh;Ms.setScalarValue=Qh});var Pa=C($a=>{"use strict";var zh=s=>"type"in s?Bs(s):Ds(s);function Bs(s){switch(s.type){case"block-scalar":{let e="";for(let t of s.props)e+=Bs(t);return e+s.source}case"block-map":case"block-seq":{let e="";for(let t of s.items)e+=Ds(t);return e}case"flow-collection":{let e=s.start.source;for(let t of s.items)e+=Ds(t);for(let t of s.end)e+=t.source;return e}case"document":{let e=Ds(s);if(s.end)for(let t of s.end)e+=t.source;return e}default:{let e=s.source;if("end"in s&&s.end)for(let t of s.end)e+=t.source;return e}}}function Ds({start:s,key:e,sep:t,value:n}){let i="";for(let r of s)i+=r.source;if(e&&(i+=Bs(e)),t)for(let r of t)i+=r.source;return n&&(i+=Bs(n)),i}$a.stringify=zh});var xa=C(Ba=>{"use strict";var Ei=Symbol("break visit"),Zh=Symbol("skip children"),Ma=Symbol("remove item");function xe(s,e){"type"in s&&s.type==="document"&&(s={start:s.start,value:s.value}),Da(Object.freeze([]),s,e)}xe.BREAK=Ei;xe.SKIP=Zh;xe.REMOVE=Ma;xe.itemAtPath=(s,e)=>{let t=s;for(let[n,i]of e){let r=t?.[n];if(r&&"items"in r)t=r.items[i];else return}return t};xe.parentCollection=(s,e)=>{let t=xe.itemAtPath(s,e.slice(0,-1)),n=e[e.length-1][0],i=t?.[n];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function Da(s,e,t){let n=t(e,s);if(typeof n=="symbol")return n;for(let i of["key","value"]){let r=e[i];if(r&&"items"in r){for(let o=0;o<r.items.length;++o){let a=Da(Object.freeze(s.concat([[i,o]])),r.items[o],t);if(typeof a=="number")o=a-1;else{if(a===Ei)return Ei;a===Ma&&(r.items.splice(o,1),o-=1)}}typeof n=="function"&&i==="key"&&(n=n(e,s))}}return typeof n=="function"?n(e,s):n}Ba.visit=xe});var xs=C(ee=>{"use strict";var Ni=qa(),ep=Pa(),tp=xa(),_i="\uFEFF",Ti="",Li="",Ri="",sp=s=>!!s&&"items"in s,np=s=>!!s&&(s.type==="scalar"||s.type==="single-quoted-scalar"||s.type==="double-quoted-scalar"||s.type==="block-scalar");function ip(s){switch(s){case _i:return"<BOM>";case Ti:return"<DOC>";case Li:return"<FLOW_END>";case Ri:return"<SCALAR>";default:return JSON.stringify(s)}}function rp(s){switch(s){case _i:return"byte-order-mark";case Ti:return"doc-mode";case Li:return"flow-error-end";case Ri:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(s[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}ee.createScalarToken=Ni.createScalarToken;ee.resolveAsScalar=Ni.resolveAsScalar;ee.setScalarValue=Ni.setScalarValue;ee.stringify=ep.stringify;ee.visit=tp.visit;ee.BOM=_i;ee.DOCUMENT=Ti;ee.FLOW_END=Li;ee.SCALAR=Ri;ee.isCollection=sp;ee.isScalar=np;ee.prettyToken=ip;ee.tokenType=rp});var $i=C(Fa=>{"use strict";var It=xs();function ce(s){switch(s){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var ja=new Set("0123456789ABCDEFabcdef"),op=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),js=new Set(",[]{}"),ap=new Set(` ,[]{}
\r	`),Ii=s=>!s||ap.has(s),qi=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return!t||t==="#"||t===`
`?!0:t==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;t===" ";)t=this.buffer[++n+e];if(t==="\r"){let i=this.buffer[n+e+1];if(i===`
`||!i&&!this.atEnd)return e+n+1}return t===`
`||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if(t==="-"||t==="."){let n=this.buffer.substr(e,3);if((n==="---"||n==="...")&&ce(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===It.BOM&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let t=e.length,n=e.indexOf("#");for(;n!==-1;){let r=e[n-1];if(r===" "||r==="	"){t=n-1;break}else n=e.indexOf("#",n+1)}for(;;){let r=e[t-1];if(r===" "||r==="	")t-=1;else break}let i=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){let t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield It.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let t=this.peek(3);if((t==="---"||t==="...")&&ce(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,t==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ce(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&ce(t)){let n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Ii),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=yield*this.parseBlockScalarHeader(),t+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=yield*this.pushSpaces(!0);while(e+t>0);let i=this.getLine();if(i===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&i[0]!=="#"||n===0&&(i.startsWith("---")||i.startsWith("..."))&&ce(i[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield It.FLOW_END,yield*this.parseLineStart();let r=0;for(;i[r]===",";)r+=yield*this.pushCount(1),r+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(r+=yield*this.pushIndicators(),i[r]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-r),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Ii),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let o=this.charAt(1);if(this.flowKey||ce(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let e=this.charAt(0),t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let r=0;for(;this.buffer[t-1-r]==="\\";)r+=1;if(r%2===0)break;t=this.buffer.indexOf('"',t+1)}let n=this.buffer.substring(0,t),i=n.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){let r=this.continueScalar(i+1);if(r===-1)break;i=n.indexOf(`
`,r)}i!==-1&&(t=i-(n[i-1]==="\r"?2:1))}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*this.pushUntil(t=>ce(t)||t==="#")}*parseBlockScalar(){let e=this.pos-1,t=0,n;e:for(let r=this.pos;n=this.buffer[r];++r)switch(n){case" ":t+=1;break;case`
`:e=r,t=0;break;case"\r":{let o=this.buffer[r+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let r=this.continueScalar(e+1);if(r===-1)break;e=this.buffer.indexOf(`
`,r)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let i=e+1;for(n=this.buffer[i];n===" ";)n=this.buffer[++i];if(n==="	"){for(;n==="	"||n===" "||n==="\r"||n===`
`;)n=this.buffer[++i];e=i-1}else if(!this.blockScalarKeep)do{let r=e-1,o=this.buffer[r];o==="\r"&&(o=this.buffer[--r]);let a=r;for(;o===" ";)o=this.buffer[--r];if(o===`
`&&r>=this.pos&&r+1+t>a)e=r;else break}while(!0);return yield It.SCALAR,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let e=this.flowLevel>0,t=this.pos-1,n=this.pos-1,i;for(;i=this.buffer[++n];)if(i===":"){let r=this.buffer[n+1];if(ce(r)||e&&js.has(r))break;t=n}else if(ce(i)){let r=this.buffer[n+1];if(i==="\r"&&(r===`
`?(n+=1,i=`
`,r=this.buffer[n+1]):t=n),r==="#"||e&&js.has(r))break;if(i===`
`){let o=this.continueScalar(n+1);if(o===-1)break;n=Math.max(n,o-2)}}else{if(e&&js.has(i))break;t=n}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield It.SCALAR,yield*this.pushToIndex(t+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){let n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Ii))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let e=this.flowLevel>0,t=this.charAt(1);if(ce(t)||e&&js.has(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!ce(t)&&t!==">";)t=this.buffer[++e];return yield*this.pushToIndex(t===">"?e+1:e,!1)}else{let e=this.pos+1,t=this.buffer[e];for(;t;)if(op.has(t))t=this.buffer[++e];else if(t==="%"&&ja.has(this.buffer[e+1])&&ja.has(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){let e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let t=this.pos-1,n;do n=this.buffer[++t];while(n===" "||e&&n==="	");let i=t-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=t),i}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}};Fa.Lexer=qi});var Mi=C(Ka=>{"use strict";var Pi=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){let r=t+n>>1;this.lineStarts[r]<e?t=r+1:n=r}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(t===0)return{line:0,col:e};let i=this.lineStarts[t-1];return{line:t,col:e-i+1}}}};Ka.LineCounter=Pi});var Bi=C(Va=>{"use strict";var lp=z("process"),Ha=xs(),cp=$i();function Re(s,e){for(let t=0;t<s.length;++t)if(s[t].type===e)return!0;return!1}function Ua(s){for(let e=0;e<s.length;++e)switch(s[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Ya(s){switch(s?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Fs(s){switch(s.type){case"document":return s.start;case"block-map":{let e=s.items[s.items.length-1];return e.sep??e.start}case"block-seq":return s.items[s.items.length-1].start;default:return[]}}function Ze(s){if(s.length===0)return[];let e=s.length;e:for(;--e>=0;)switch(s[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;s[++e]?.type==="space";);return s.splice(e,s.length)}function Ga(s){if(s.start.type==="flow-seq-start")for(let e of s.items)e.sep&&!e.value&&!Re(e.start,"explicit-key-ind")&&!Re(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,Ya(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}var Di=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new cp.Lexer,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,lp.env.LOG_TOKENS&&console.log("|",Ha.prettyToken(e)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}let t=Ha.tokenType(e);if(t)if(t==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{let n=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){let t=e??this.stack.pop();if(!t)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield t;else{let n=this.peek(1);switch(t.type==="block-scalar"?t.indent="indent"in n?n.indent:0:t.type==="flow-collection"&&n.type==="document"&&(t.indent=0),t.type==="flow-collection"&&Ga(t),n.type){case"document":n.value=t;break;case"block-scalar":n.props.push(t);break;case"block-map":{let i=n.items[n.items.length-1];if(i.value){n.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=t;else{Object.assign(i,{key:t,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{let i=n.items[n.items.length-1];i.value?n.items.push({start:[],value:t}):i.value=t;break}case"flow-collection":{let i=n.items[n.items.length-1];!i||i.value?n.items.push({start:[],key:t,sep:[]}):i.sep?i.value=t:Object.assign(i,{key:t,sep:[]});return}default:yield*this.pop(),yield*this.pop(t)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){let i=t.items[t.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&Ua(i.start)===-1&&(t.indent===0||i.start.every(r=>r.type!=="comment"||r.indent<t.indent))&&(n.type==="document"?n.end=i.start:n.items.push({start:i.start}),t.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Ua(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}let t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){let t=Fs(this.peek(2)),n=Ze(t),i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];let r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){let t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){let n="end"in t.value?t.value.end:void 0;(Array.isArray(n)?n[n.length-1]:void 0)?.type==="comment"?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){let i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,t.start),i.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){let n=!this.onKeyLine&&this.indent===e.indent,i=n&&(t.sep||t.explicitKey)&&this.type!=="seq-item-ind",r=[];if(i&&t.sep&&!t.value){let o=[];for(let a=0;a<t.sep.length;++a){let l=t.sep[a];switch(l.type){case"newline":o.push(a);break;case"space":break;case"comment":l.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(r=t.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":i||t.value?(r.push(this.sourceToken),e.items.push({start:r}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"explicit-key-ind":!t.sep&&!t.explicitKey?(t.start.push(this.sourceToken),t.explicitKey=!0):i||t.value?(r.push(this.sourceToken),e.items.push({start:r,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(t.explicitKey)if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Re(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(Ya(t.key)&&!Re(t.sep,"newline")){let o=Ze(t.start),a=t.key,l=t.sep;l.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:l}]})}else r.length>0?t.sep=t.sep.concat(r,this.sourceToken):t.sep.push(this.sourceToken);else if(Re(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{let o=Ze(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||i?e.items.push({start:r,key:null,sep:[this.sourceToken]}):Re(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let o=this.flowScalar(this.type);i||t.value?(e.items.push({start:r,key:o,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(o):(Object.assign(t,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{let o=this.startBlockValue(e);if(o){if(o.type==="block-seq"){if(!t.explicitKey&&t.sep&&!Re(t.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else n&&e.items.push({start:r});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){let t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){let n="end"in t.value?t.value.end:void 0;(Array.isArray(n)?n[n.length-1]:void 0)?.type==="comment"?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){let i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,t.start),i.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;t.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;t.value||Re(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return}if(this.indent>e.indent){let n=this.startBlockValue(e);if(n){this.stack.push(n);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){let t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let i=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:i,sep:[]}):t.sep?this.stack.push(i):Object.assign(t,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}let n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{let n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===e.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){let i=Fs(n),r=Ze(i);Ga(e);let o=e.end.splice(1,e.end.length);o.push(this.sourceToken);let a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let t=Fs(e),n=Ze(t);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let t=Fs(e),n=Ze(t);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return this.type!=="comment"||this.indent<=t?!1:e.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};Va.Parser=Di});var za=C($t=>{"use strict";var Wa=ki(),up=Ot(),qt=_t(),fp=vn(),hp=P(),pp=Mi(),Ja=Bi();function Qa(s){let e=s.prettyErrors!==!1;return{lineCounter:s.lineCounter||e&&new pp.LineCounter||null,prettyErrors:e}}function dp(s,e={}){let{lineCounter:t,prettyErrors:n}=Qa(e),i=new Ja.Parser(t?.addNewLine),r=new Wa.Composer(e),o=Array.from(r.compose(i.parse(s)));if(n&&t)for(let a of o)a.errors.forEach(qt.prettifyError(s,t)),a.warnings.forEach(qt.prettifyError(s,t));return o.length>0?o:Object.assign([],{empty:!0},r.streamInfo())}function Xa(s,e={}){let{lineCounter:t,prettyErrors:n}=Qa(e),i=new Ja.Parser(t?.addNewLine),r=new Wa.Composer(e),o=null;for(let a of r.compose(i.parse(s),!0,s.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new qt.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&t&&(o.errors.forEach(qt.prettifyError(s,t)),o.warnings.forEach(qt.prettifyError(s,t))),o}function gp(s,e,t){let n;typeof e=="function"?n=e:t===void 0&&e&&typeof e=="object"&&(t=e);let i=Xa(s,t);if(!i)return null;if(i.warnings.forEach(r=>fp.warn(i.options.logLevel,r)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:n},t))}function mp(s,e,t){let n=null;if(typeof e=="function"||Array.isArray(e)?n=e:t===void 0&&e&&(t=e),typeof t=="string"&&(t=t.length),typeof t=="number"){let i=Math.round(t);t=i<1?void 0:i>8?{indent:8}:{indent:i}}if(s===void 0){let{keepUndefined:i}=t??e??{};if(!i)return}return hp.isDocument(s)&&!n?s.toString(t):new up.Document(s,n,t).toString(t)}$t.parse=gp;$t.parseAllDocuments=dp;$t.parseDocument=Xa;$t.stringify=mp});var ji=C(M=>{"use strict";var yp=ki(),bp=Ot(),Sp=ii(),xi=_t(),wp=lt(),Ie=P(),Ap=Ne(),vp=Y(),Cp=Te(),kp=Le(),Op=xs(),Ep=$i(),Np=Mi(),_p=Bi(),Ks=za(),Za=it();M.Composer=yp.Composer;M.Document=bp.Document;M.Schema=Sp.Schema;M.YAMLError=xi.YAMLError;M.YAMLParseError=xi.YAMLParseError;M.YAMLWarning=xi.YAMLWarning;M.Alias=wp.Alias;M.isAlias=Ie.isAlias;M.isCollection=Ie.isCollection;M.isDocument=Ie.isDocument;M.isMap=Ie.isMap;M.isNode=Ie.isNode;M.isPair=Ie.isPair;M.isScalar=Ie.isScalar;M.isSeq=Ie.isSeq;M.Pair=Ap.Pair;M.Scalar=vp.Scalar;M.YAMLMap=Cp.YAMLMap;M.YAMLSeq=kp.YAMLSeq;M.CST=Op;M.Lexer=Ep.Lexer;M.LineCounter=Np.LineCounter;M.Parser=_p.Parser;M.parse=Ks.parse;M.parseAllDocuments=Ks.parseAllDocuments;M.parseDocument=Ks.parseDocument;M.stringify=Ks.stringify;M.visit=Za.visit;M.visitAsync=Za.visitAsync});var Dt=C((em,fl)=>{"use strict";var he="\\\\/",al=`[^${he}]`,Ae="\\.",Rp="\\+",Ip="\\?",Ws="\\/",qp="(?=.)",ll="[^/]",Hi=`(?:${Ws}|$)`,cl=`(?:^|${Ws})`,Ui=`${Ae}{1,2}${Hi}`,$p=`(?!${Ae})`,Pp=`(?!${cl}${Ui})`,Mp=`(?!${Ae}{0,1}${Hi})`,Dp=`(?!${Ui})`,Bp=`[^.${Ws}]`,xp=`${ll}*?`,jp="/",ul={DOT_LITERAL:Ae,PLUS_LITERAL:Rp,QMARK_LITERAL:Ip,SLASH_LITERAL:Ws,ONE_CHAR:qp,QMARK:ll,END_ANCHOR:Hi,DOTS_SLASH:Ui,NO_DOT:$p,NO_DOTS:Pp,NO_DOT_SLASH:Mp,NO_DOTS_SLASH:Dp,QMARK_NO_DOT:Bp,STAR:xp,START_ANCHOR:cl,SEP:jp},Fp={...ul,SLASH_LITERAL:`[${he}]`,QMARK:al,STAR:`${al}*?`,DOTS_SLASH:`${Ae}{1,2}(?:[${he}]|$)`,NO_DOT:`(?!${Ae})`,NO_DOTS:`(?!(?:^|[${he}])${Ae}{1,2}(?:[${he}]|$))`,NO_DOT_SLASH:`(?!${Ae}{0,1}(?:[${he}]|$))`,NO_DOTS_SLASH:`(?!${Ae}{1,2}(?:[${he}]|$))`,QMARK_NO_DOT:`[^.${he}]`,START_ANCHOR:`(?:^|[${he}])`,END_ANCHOR:`(?:[${he}]|$)`,SEP:"\\"},Kp={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};fl.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Kp,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,extglobChars(s){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${s.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(s){return s===!0?Fp:ul}}});var Bt=C(te=>{"use strict";var{REGEX_BACKSLASH:Hp,REGEX_REMOVE_BACKSLASH:Up,REGEX_SPECIAL_CHARS:Gp,REGEX_SPECIAL_CHARS_GLOBAL:Yp}=Dt();te.isObject=s=>s!==null&&typeof s=="object"&&!Array.isArray(s);te.hasRegexChars=s=>Gp.test(s);te.isRegexChar=s=>s.length===1&&te.hasRegexChars(s);te.escapeRegex=s=>s.replace(Yp,"\\$1");te.toPosixSlashes=s=>s.replace(Hp,"/");te.isWindows=()=>{if(typeof navigator<"u"&&navigator.platform){let s=navigator.platform.toLowerCase();return s==="win32"||s==="windows"}return typeof process<"u"&&process.platform?process.platform==="win32":!1};te.removeBackslashes=s=>s.replace(Up,e=>e==="\\"?"":e);te.escapeLast=(s,e,t)=>{let n=s.lastIndexOf(e,t);return n===-1?s:s[n-1]==="\\"?te.escapeLast(s,e,n-1):`${s.slice(0,n)}\\${s.slice(n)}`};te.removePrefix=(s,e={})=>{let t=s;return t.startsWith("./")&&(t=t.slice(2),e.prefix="./"),t};te.wrapOutput=(s,e={},t={})=>{let n=t.contains?"":"^",i=t.contains?"":"$",r=`${n}(?:${s})${i}`;return e.negated===!0&&(r=`(?:^(?!${r}).*$)`),r};te.basename=(s,{windows:e}={})=>{let t=s.split(e?/[\\/]/:"/"),n=t[t.length-1];return n===""?t[t.length-2]:n}});var Sl=C((sm,bl)=>{"use strict";var hl=Bt(),{CHAR_ASTERISK:Gi,CHAR_AT:Vp,CHAR_BACKWARD_SLASH:xt,CHAR_COMMA:Wp,CHAR_DOT:Yi,CHAR_EXCLAMATION_MARK:Vi,CHAR_FORWARD_SLASH:yl,CHAR_LEFT_CURLY_BRACE:Wi,CHAR_LEFT_PARENTHESES:Ji,CHAR_LEFT_SQUARE_BRACKET:Jp,CHAR_PLUS:Qp,CHAR_QUESTION_MARK:pl,CHAR_RIGHT_CURLY_BRACE:Xp,CHAR_RIGHT_PARENTHESES:dl,CHAR_RIGHT_SQUARE_BRACKET:zp}=Dt(),gl=s=>s===yl||s===xt,ml=s=>{s.isPrefix!==!0&&(s.depth=s.isGlobstar?1/0:1)},Zp=(s,e)=>{let t=e||{},n=s.length-1,i=t.parts===!0||t.scanToEnd===!0,r=[],o=[],a=[],l=s,c=-1,p=0,f=0,u=!1,y=!1,w=!1,h=!1,b=!1,O=!1,A=!1,_=!1,L=!1,E=!1,N=0,R,S,T={value:"",depth:0,isGlob:!1},d=()=>c>=n,U=()=>l.charCodeAt(c+1),I=()=>(R=S,l.charCodeAt(++c));for(;c<n;){S=I();let D;if(S===xt){A=T.backslashes=!0,S=I(),S===Wi&&(O=!0);continue}if(O===!0||S===Wi){for(N++;d()!==!0&&(S=I());){if(S===xt){A=T.backslashes=!0,I();continue}if(S===Wi){N++;continue}if(O!==!0&&S===Yi&&(S=I())===Yi){if(u=T.isBrace=!0,w=T.isGlob=!0,E=!0,i===!0)continue;break}if(O!==!0&&S===Wp){if(u=T.isBrace=!0,w=T.isGlob=!0,E=!0,i===!0)continue;break}if(S===Xp&&(N--,N===0)){O=!1,u=T.isBrace=!0,E=!0;break}}if(i===!0)continue;break}if(S===yl){if(r.push(c),o.push(T),T={value:"",depth:0,isGlob:!1},E===!0)continue;if(R===Yi&&c===p+1){p+=2;continue}f=c+1;continue}if(t.noext!==!0&&(S===Qp||S===Vp||S===Gi||S===pl||S===Vi)===!0&&U()===Ji){if(w=T.isGlob=!0,h=T.isExtglob=!0,E=!0,S===Vi&&c===p&&(L=!0),i===!0){for(;d()!==!0&&(S=I());){if(S===xt){A=T.backslashes=!0,S=I();continue}if(S===dl){w=T.isGlob=!0,E=!0;break}}continue}break}if(S===Gi){if(R===Gi&&(b=T.isGlobstar=!0),w=T.isGlob=!0,E=!0,i===!0)continue;break}if(S===pl){if(w=T.isGlob=!0,E=!0,i===!0)continue;break}if(S===Jp){for(;d()!==!0&&(D=I());){if(D===xt){A=T.backslashes=!0,I();continue}if(D===zp){y=T.isBracket=!0,w=T.isGlob=!0,E=!0;break}}if(i===!0)continue;break}if(t.nonegate!==!0&&S===Vi&&c===p){_=T.negated=!0,p++;continue}if(t.noparen!==!0&&S===Ji){if(w=T.isGlob=!0,i===!0){for(;d()!==!0&&(S=I());){if(S===Ji){A=T.backslashes=!0,S=I();continue}if(S===dl){E=!0;break}}continue}break}if(w===!0){if(E=!0,i===!0)continue;break}}t.noext===!0&&(h=!1,w=!1);let x=l,g="",m="";p>0&&(g=l.slice(0,p),l=l.slice(p),f-=p),x&&w===!0&&f>0?(x=l.slice(0,f),m=l.slice(f)):w===!0?(x="",m=l):x=l,x&&x!==""&&x!=="/"&&x!==l&&gl(x.charCodeAt(x.length-1))&&(x=x.slice(0,-1)),t.unescape===!0&&(m&&(m=hl.removeBackslashes(m)),x&&A===!0&&(x=hl.removeBackslashes(x)));let se={prefix:g,input:s,start:p,base:x,glob:m,isBrace:u,isBracket:y,isGlob:w,isExtglob:h,isGlobstar:b,negated:_,negatedExtglob:L};if(t.tokens===!0&&(se.maxDepth=0,gl(S)||o.push(T),se.tokens=o),t.parts===!0||t.tokens===!0){let D;for(let F=0;F<r.length;F++){let de=D?D+1:p,ne=r[F],ve=s.slice(de,ne);t.tokens&&(F===0&&p!==0?(o[F].isPrefix=!0,o[F].value=g):o[F].value=ve,ml(o[F]),se.maxDepth+=o[F].depth),(F!==0||ve!=="")&&a.push(ve),D=ne}if(D&&D+1<s.length){let F=s.slice(D+1);a.push(F),t.tokens&&(o[o.length-1].value=F,ml(o[o.length-1]),se.maxDepth+=o[o.length-1].depth)}se.slashes=r,se.parts=a}return se};bl.exports=Zp});var vl=C((nm,Al)=>{"use strict";var Js=Dt(),pe=Bt(),{MAX_LENGTH:Qs,POSIX_REGEX_SOURCE:ed,REGEX_NON_SPECIAL_CHARS:td,REGEX_SPECIAL_CHARS_BACKREF:sd,REPLACEMENTS:wl}=Js,nd=(s,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...s,e);s.sort();let t=`[${s.join("-")}]`;try{new RegExp(t)}catch{return s.map(i=>pe.escapeRegex(i)).join("..")}return t},tt=(s,e)=>`Missing ${s}: "${e}" - use "\\\\${e}" to match literal characters`,Qi=(s,e)=>{if(typeof s!="string")throw new TypeError("Expected a string");s=wl[s]||s;let t={...e},n=typeof t.maxLength=="number"?Math.min(Qs,t.maxLength):Qs,i=s.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let r={type:"bos",value:"",output:t.prepend||""},o=[r],a=t.capture?"":"?:",l=Js.globChars(t.windows),c=Js.extglobChars(l),{DOT_LITERAL:p,PLUS_LITERAL:f,SLASH_LITERAL:u,ONE_CHAR:y,DOTS_SLASH:w,NO_DOT:h,NO_DOT_SLASH:b,NO_DOTS_SLASH:O,QMARK:A,QMARK_NO_DOT:_,STAR:L,START_ANCHOR:E}=l,N=k=>`(${a}(?:(?!${E}${k.dot?w:p}).)*?)`,R=t.dot?"":h,S=t.dot?A:_,T=t.bash===!0?N(t):L;t.capture&&(T=`(${T})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);let d={input:s,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};s=pe.removePrefix(s,d),i=s.length;let U=[],I=[],x=[],g=r,m,se=()=>d.index===i-1,D=d.peek=(k=1)=>s[d.index+k],F=d.advance=()=>s[++d.index]||"",de=()=>s.slice(d.index+1),ne=(k="",B=0)=>{d.consumed+=k,d.index+=B},ve=k=>{d.output+=k.output!=null?k.output:k.value,ne(k.value)},Il=()=>{let k=1;for(;D()==="!"&&(D(2)!=="("||D(3)==="?");)F(),d.start++,k++;return k%2===0?!1:(d.negated=!0,d.start++,!0)},jt=k=>{d[k]++,x.push(k)},qe=k=>{d[k]--,x.pop()},$=k=>{if(g.type==="globstar"){let B=d.braces>0&&(k.type==="comma"||k.type==="brace"),v=k.extglob===!0||U.length&&(k.type==="pipe"||k.type==="paren");k.type!=="slash"&&k.type!=="paren"&&!B&&!v&&(d.output=d.output.slice(0,-g.output.length),g.type="star",g.value="*",g.output=T,d.output+=g.output)}if(U.length&&k.type!=="paren"&&(U[U.length-1].inner+=k.value),(k.value||k.output)&&ve(k),g&&g.type==="text"&&k.type==="text"){g.output=(g.output||g.value)+k.value,g.value+=k.value;return}k.prev=g,o.push(k),g=k},Ft=(k,B)=>{let v={...c[B],conditions:1,inner:""};v.prev=g,v.parens=d.parens,v.output=d.output;let q=(t.capture?"(":"")+v.open;jt("parens"),$({type:k,value:B,output:d.output?"":y}),$({type:"paren",extglob:!0,value:F(),output:q}),U.push(v)},ql=k=>{let B=k.close+(t.capture?")":""),v;if(k.type==="negate"){let q=T;if(k.inner&&k.inner.length>1&&k.inner.includes("/")&&(q=N(t)),(q!==T||se()||/^\)+$/.test(de()))&&(B=k.close=`)$))${q}`),k.inner.includes("*")&&(v=de())&&/^\.[^\\/.]+$/.test(v)){let K=Qi(v,{...e,fastpaths:!1}).output;B=k.close=`)${K})${q})`}k.prev.type==="bos"&&(d.negatedExtglob=!0)}$({type:"paren",extglob:!0,value:m,output:B}),qe("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(s)){let k=!1,B=s.replace(sd,(v,q,K,X,V,en)=>X==="\\"?(k=!0,v):X==="?"?q?q+X+(V?A.repeat(V.length):""):en===0?S+(V?A.repeat(V.length):""):A.repeat(K.length):X==="."?p.repeat(K.length):X==="*"?q?q+X+(V?T:""):T:q?v:`\\${v}`);return k===!0&&(t.unescape===!0?B=B.replace(/\\/g,""):B=B.replace(/\\+/g,v=>v.length%2===0?"\\\\":v?"\\":"")),B===s&&t.contains===!0?(d.output=s,d):(d.output=pe.wrapOutput(B,d,e),d)}for(;!se();){if(m=F(),m==="\0")continue;if(m==="\\"){let v=D();if(v==="/"&&t.bash!==!0||v==="."||v===";")continue;if(!v){m+="\\",$({type:"text",value:m});continue}let q=/^\\+/.exec(de()),K=0;if(q&&q[0].length>2&&(K=q[0].length,d.index+=K,K%2!==0&&(m+="\\")),t.unescape===!0?m=F():m+=F(),d.brackets===0){$({type:"text",value:m});continue}}if(d.brackets>0&&(m!=="]"||g.value==="["||g.value==="[^")){if(t.posix!==!1&&m===":"){let v=g.value.slice(1);if(v.includes("[")&&(g.posix=!0,v.includes(":"))){let q=g.value.lastIndexOf("["),K=g.value.slice(0,q),X=g.value.slice(q+2),V=ed[X];if(V){g.value=K+V,d.backtrack=!0,F(),!r.output&&o.indexOf(g)===1&&(r.output=y);continue}}}(m==="["&&D()!==":"||m==="-"&&D()==="]")&&(m=`\\${m}`),m==="]"&&(g.value==="["||g.value==="[^")&&(m=`\\${m}`),t.posix===!0&&m==="!"&&g.value==="["&&(m="^"),g.value+=m,ve({value:m});continue}if(d.quotes===1&&m!=='"'){m=pe.escapeRegex(m),g.value+=m,ve({value:m});continue}if(m==='"'){d.quotes=d.quotes===1?0:1,t.keepQuotes===!0&&$({type:"text",value:m});continue}if(m==="("){jt("parens"),$({type:"paren",value:m});continue}if(m===")"){if(d.parens===0&&t.strictBrackets===!0)throw new SyntaxError(tt("opening","("));let v=U[U.length-1];if(v&&d.parens===v.parens+1){ql(U.pop());continue}$({type:"paren",value:m,output:d.parens?")":"\\)"}),qe("parens");continue}if(m==="["){if(t.nobracket===!0||!de().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(tt("closing","]"));m=`\\${m}`}else jt("brackets");$({type:"bracket",value:m});continue}if(m==="]"){if(t.nobracket===!0||g&&g.type==="bracket"&&g.value.length===1){$({type:"text",value:m,output:`\\${m}`});continue}if(d.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(tt("opening","["));$({type:"text",value:m,output:`\\${m}`});continue}qe("brackets");let v=g.value.slice(1);if(g.posix!==!0&&v[0]==="^"&&!v.includes("/")&&(m=`/${m}`),g.value+=m,ve({value:m}),t.literalBrackets===!1||pe.hasRegexChars(v))continue;let q=pe.escapeRegex(g.value);if(d.output=d.output.slice(0,-g.value.length),t.literalBrackets===!0){d.output+=q,g.value=q;continue}g.value=`(${a}${q}|${g.value})`,d.output+=g.value;continue}if(m==="{"&&t.nobrace!==!0){jt("braces");let v={type:"brace",value:m,output:"(",outputIndex:d.output.length,tokensIndex:d.tokens.length};I.push(v),$(v);continue}if(m==="}"){let v=I[I.length-1];if(t.nobrace===!0||!v){$({type:"text",value:m,output:m});continue}let q=")";if(v.dots===!0){let K=o.slice(),X=[];for(let V=K.length-1;V>=0&&(o.pop(),K[V].type!=="brace");V--)K[V].type!=="dots"&&X.unshift(K[V].value);q=nd(X,t),d.backtrack=!0}if(v.comma!==!0&&v.dots!==!0){let K=d.output.slice(0,v.outputIndex),X=d.tokens.slice(v.tokensIndex);v.value=v.output="\\{",m=q="\\}",d.output=K;for(let V of X)d.output+=V.output||V.value}$({type:"brace",value:m,output:q}),qe("braces"),I.pop();continue}if(m==="|"){U.length>0&&U[U.length-1].conditions++,$({type:"text",value:m});continue}if(m===","){let v=m,q=I[I.length-1];q&&x[x.length-1]==="braces"&&(q.comma=!0,v="|"),$({type:"comma",value:m,output:v});continue}if(m==="/"){if(g.type==="dot"&&d.index===d.start+1){d.start=d.index+1,d.consumed="",d.output="",o.pop(),g=r;continue}$({type:"slash",value:m,output:u});continue}if(m==="."){if(d.braces>0&&g.type==="dot"){g.value==="."&&(g.output=p);let v=I[I.length-1];g.type="dots",g.output+=m,g.value+=m,v.dots=!0;continue}if(d.braces+d.parens===0&&g.type!=="bos"&&g.type!=="slash"){$({type:"text",value:m,output:p});continue}$({type:"dot",value:m,output:p});continue}if(m==="?"){if(!(g&&g.value==="(")&&t.noextglob!==!0&&D()==="("&&D(2)!=="?"){Ft("qmark",m);continue}if(g&&g.type==="paren"){let q=D(),K=m;(g.value==="("&&!/[!=<:]/.test(q)||q==="<"&&!/<([!=]|\w+>)/.test(de()))&&(K=`\\${m}`),$({type:"text",value:m,output:K});continue}if(t.dot!==!0&&(g.type==="slash"||g.type==="bos")){$({type:"qmark",value:m,output:_});continue}$({type:"qmark",value:m,output:A});continue}if(m==="!"){if(t.noextglob!==!0&&D()==="("&&(D(2)!=="?"||!/[!=<:]/.test(D(3)))){Ft("negate",m);continue}if(t.nonegate!==!0&&d.index===0){Il();continue}}if(m==="+"){if(t.noextglob!==!0&&D()==="("&&D(2)!=="?"){Ft("plus",m);continue}if(g&&g.value==="("||t.regex===!1){$({type:"plus",value:m,output:f});continue}if(g&&(g.type==="bracket"||g.type==="paren"||g.type==="brace")||d.parens>0){$({type:"plus",value:m});continue}$({type:"plus",value:f});continue}if(m==="@"){if(t.noextglob!==!0&&D()==="("&&D(2)!=="?"){$({type:"at",extglob:!0,value:m,output:""});continue}$({type:"text",value:m});continue}if(m!=="*"){(m==="$"||m==="^")&&(m=`\\${m}`);let v=td.exec(de());v&&(m+=v[0],d.index+=v[0].length),$({type:"text",value:m});continue}if(g&&(g.type==="globstar"||g.star===!0)){g.type="star",g.star=!0,g.value+=m,g.output=T,d.backtrack=!0,d.globstar=!0,ne(m);continue}let k=de();if(t.noextglob!==!0&&/^\([^?]/.test(k)){Ft("star",m);continue}if(g.type==="star"){if(t.noglobstar===!0){ne(m);continue}let v=g.prev,q=v.prev,K=v.type==="slash"||v.type==="bos",X=q&&(q.type==="star"||q.type==="globstar");if(t.bash===!0&&(!K||k[0]&&k[0]!=="/")){$({type:"star",value:m,output:""});continue}let V=d.braces>0&&(v.type==="comma"||v.type==="brace"),en=U.length&&(v.type==="pipe"||v.type==="paren");if(!K&&v.type!=="paren"&&!V&&!en){$({type:"star",value:m,output:""});continue}for(;k.slice(0,3)==="/**";){let Kt=s[d.index+4];if(Kt&&Kt!=="/")break;k=k.slice(3),ne("/**",3)}if(v.type==="bos"&&se()){g.type="globstar",g.value+=m,g.output=N(t),d.output=g.output,d.globstar=!0,ne(m);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&!X&&se()){d.output=d.output.slice(0,-(v.output+g.output).length),v.output=`(?:${v.output}`,g.type="globstar",g.output=N(t)+(t.strictSlashes?")":"|$)"),g.value+=m,d.globstar=!0,d.output+=v.output+g.output,ne(m);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&k[0]==="/"){let Kt=k[1]!==void 0?"|$":"";d.output=d.output.slice(0,-(v.output+g.output).length),v.output=`(?:${v.output}`,g.type="globstar",g.output=`${N(t)}${u}|${u}${Kt})`,g.value+=m,d.output+=v.output+g.output,d.globstar=!0,ne(m+F()),$({type:"slash",value:"/",output:""});continue}if(v.type==="bos"&&k[0]==="/"){g.type="globstar",g.value+=m,g.output=`(?:^|${u}|${N(t)}${u})`,d.output=g.output,d.globstar=!0,ne(m+F()),$({type:"slash",value:"/",output:""});continue}d.output=d.output.slice(0,-g.output.length),g.type="globstar",g.output=N(t),g.value+=m,d.output+=g.output,d.globstar=!0,ne(m);continue}let B={type:"star",value:m,output:T};if(t.bash===!0){B.output=".*?",(g.type==="bos"||g.type==="slash")&&(B.output=R+B.output),$(B);continue}if(g&&(g.type==="bracket"||g.type==="paren")&&t.regex===!0){B.output=m,$(B);continue}(d.index===d.start||g.type==="slash"||g.type==="dot")&&(g.type==="dot"?(d.output+=b,g.output+=b):t.dot===!0?(d.output+=O,g.output+=O):(d.output+=R,g.output+=R),D()!=="*"&&(d.output+=y,g.output+=y)),$(B)}for(;d.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(tt("closing","]"));d.output=pe.escapeLast(d.output,"["),qe("brackets")}for(;d.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(tt("closing",")"));d.output=pe.escapeLast(d.output,"("),qe("parens")}for(;d.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(tt("closing","}"));d.output=pe.escapeLast(d.output,"{"),qe("braces")}if(t.strictSlashes!==!0&&(g.type==="star"||g.type==="bracket")&&$({type:"maybe_slash",value:"",output:`${u}?`}),d.backtrack===!0){d.output="";for(let k of d.tokens)d.output+=k.output!=null?k.output:k.value,k.suffix&&(d.output+=k.suffix)}return d};Qi.fastpaths=(s,e)=>{let t={...e},n=typeof t.maxLength=="number"?Math.min(Qs,t.maxLength):Qs,i=s.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);s=wl[s]||s;let{DOT_LITERAL:r,SLASH_LITERAL:o,ONE_CHAR:a,DOTS_SLASH:l,NO_DOT:c,NO_DOTS:p,NO_DOTS_SLASH:f,STAR:u,START_ANCHOR:y}=Js.globChars(t.windows),w=t.dot?p:c,h=t.dot?f:c,b=t.capture?"":"?:",O={negated:!1,prefix:""},A=t.bash===!0?".*?":u;t.capture&&(A=`(${A})`);let _=R=>R.noglobstar===!0?A:`(${b}(?:(?!${y}${R.dot?l:r}).)*?)`,L=R=>{switch(R){case"*":return`${w}${a}${A}`;case".*":return`${r}${a}${A}`;case"*.*":return`${w}${A}${r}${a}${A}`;case"*/*":return`${w}${A}${o}${a}${h}${A}`;case"**":return w+_(t);case"**/*":return`(?:${w}${_(t)}${o})?${h}${a}${A}`;case"**/*.*":return`(?:${w}${_(t)}${o})?${h}${A}${r}${a}${A}`;case"**/.*":return`(?:${w}${_(t)}${o})?${r}${a}${A}`;default:{let S=/^(.*?)\.(\w+)$/.exec(R);if(!S)return;let T=L(S[1]);return T?T+r+S[2]:void 0}}},E=pe.removePrefix(s,O),N=L(E);return N&&t.strictSlashes!==!0&&(N+=`${o}?`),N};Al.exports=Qi});var Ol=C((im,kl)=>{"use strict";var id=Sl(),Xi=vl(),Cl=Bt(),rd=Dt(),od=s=>s&&typeof s=="object"&&!Array.isArray(s),G=(s,e,t=!1)=>{if(Array.isArray(s)){let p=s.map(u=>G(u,e,t));return u=>{for(let y of p){let w=y(u);if(w)return w}return!1}}let n=od(s)&&s.tokens&&s.input;if(s===""||typeof s!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},r=i.windows,o=n?G.compileRe(s,e):G.makeRe(s,e,!1,!0),a=o.state;delete o.state;let l=()=>!1;if(i.ignore){let p={...e,ignore:null,onMatch:null,onResult:null};l=G(i.ignore,p,t)}let c=(p,f=!1)=>{let{isMatch:u,match:y,output:w}=G.test(p,o,e,{glob:s,posix:r}),h={glob:s,state:a,regex:o,posix:r,input:p,output:w,match:y,isMatch:u};return typeof i.onResult=="function"&&i.onResult(h),u===!1?(h.isMatch=!1,f?h:!1):l(p)?(typeof i.onIgnore=="function"&&i.onIgnore(h),h.isMatch=!1,f?h:!1):(typeof i.onMatch=="function"&&i.onMatch(h),f?h:!0)};return t&&(c.state=a),c};G.test=(s,e,t,{glob:n,posix:i}={})=>{if(typeof s!="string")throw new TypeError("Expected input to be a string");if(s==="")return{isMatch:!1,output:""};let r=t||{},o=r.format||(i?Cl.toPosixSlashes:null),a=s===n,l=a&&o?o(s):s;return a===!1&&(l=o?o(s):s,a=l===n),(a===!1||r.capture===!0)&&(r.matchBase===!0||r.basename===!0?a=G.matchBase(s,e,t,i):a=e.exec(l)),{isMatch:!!a,match:a,output:l}};G.matchBase=(s,e,t)=>(e instanceof RegExp?e:G.makeRe(e,t)).test(Cl.basename(s));G.isMatch=(s,e,t)=>G(e,t)(s);G.parse=(s,e)=>Array.isArray(s)?s.map(t=>G.parse(t,e)):Xi(s,{...e,fastpaths:!1});G.scan=(s,e)=>id(s,e);G.compileRe=(s,e,t=!1,n=!1)=>{if(t===!0)return s.output;let i=e||{},r=i.contains?"":"^",o=i.contains?"":"$",a=`${r}(?:${s.output})${o}`;s&&s.negated===!0&&(a=`^(?!${a}).*$`);let l=G.toRegex(a,e);return n===!0&&(l.state=s),l};G.makeRe=(s,e={},t=!1,n=!1)=>{if(!s||typeof s!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(s[0]==="."||s[0]==="*")&&(i.output=Xi.fastpaths(s,e)),i.output||(i=Xi(s,e)),G.compileRe(i,e,t,n)};G.toRegex=(s,e)=>{try{let t=e||{};return new RegExp(s,t.flags||(t.nocase?"i":""))}catch(t){if(e&&e.debug===!0)throw t;return/$^/}};G.constants=rd;kl.exports=G});var Tl=C((rm,_l)=>{"use strict";var El=Ol(),ad=Bt();function Nl(s,e,t=!1){return e&&(e.windows===null||e.windows===void 0)&&(e={...e,windows:ad.isWindows()}),El(s,e,t)}Object.assign(Nl,El);_l.exports=Nl});var fd={};xl(fd,{default:()=>ud});var Zs=z("@yarnpkg/core");var ol=z("@yarnpkg/cli"),et=z("@yarnpkg/core"),Pt=z("@yarnpkg/fslib");var tr=(s=0)=>e=>`\x1B[${e+s}m`,sr=(s=0)=>e=>`\x1B[${38+s};5;${e}m`,nr=(s=0)=>(e,t,n)=>`\x1B[${38+s};2;${e};${t};${n}m`,j={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},pd=Object.keys(j.modifier),Fl=Object.keys(j.color),Kl=Object.keys(j.bgColor),dd=[...Fl,...Kl];function Hl(){let s=new Map;for(let[e,t]of Object.entries(j)){for(let[n,i]of Object.entries(t))j[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},t[n]=j[n],s.set(i[0],i[1]);Object.defineProperty(j,e,{value:t,enumerable:!1})}return Object.defineProperty(j,"codes",{value:s,enumerable:!1}),j.color.close="\x1B[39m",j.bgColor.close="\x1B[49m",j.color.ansi=tr(),j.color.ansi256=sr(),j.color.ansi16m=nr(),j.bgColor.ansi=tr(10),j.bgColor.ansi256=sr(10),j.bgColor.ansi16m=nr(10),Object.defineProperties(j,{rgbToAnsi256:{value(e,t,n){return e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(e){let t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[n]=t;n.length===3&&(n=[...n].map(r=>r+r).join(""));let i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:e=>j.rgbToAnsi256(...j.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return 90+(e-8);let t,n,i;if(e>=232)t=((e-232)*10+8)/255,n=t,i=t;else{e-=16;let a=e%36;t=Math.floor(e/36)/5,n=Math.floor(a/6)/5,i=a%6/5}let r=Math.max(t,n,i)*2;if(r===0)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(t));return r===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(e,t,n)=>j.ansi256ToAnsi(j.rgbToAnsi256(e,t,n)),enumerable:!1},hexToAnsi:{value:e=>j.ansi256ToAnsi(j.hexToAnsi256(e)),enumerable:!1}}),j}var Ul=Hl(),ae=Ul;var Gt=je(z("process"),1),rr=je(z("os"),1),tn=je(z("tty"),1);function ie(s,e=globalThis.Deno?globalThis.Deno.args:Gt.default.argv){let t=s.startsWith("-")?"":s.length===1?"-":"--",n=e.indexOf(t+s),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}var{env:H}=Gt.default,Ut;ie("no-color")||ie("no-colors")||ie("color=false")||ie("color=never")?Ut=0:(ie("color")||ie("colors")||ie("color=true")||ie("color=always"))&&(Ut=1);function Gl(){if("FORCE_COLOR"in H)return H.FORCE_COLOR==="true"?1:H.FORCE_COLOR==="false"?0:H.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(H.FORCE_COLOR,10),3)}function Yl(s){return s===0?!1:{level:s,hasBasic:!0,has256:s>=2,has16m:s>=3}}function Vl(s,{streamIsTTY:e,sniffFlags:t=!0}={}){let n=Gl();n!==void 0&&(Ut=n);let i=t?Ut:n;if(i===0)return 0;if(t){if(ie("color=16m")||ie("color=full")||ie("color=truecolor"))return 3;if(ie("color=256"))return 2}if("TF_BUILD"in H&&"AGENT_NAME"in H)return 1;if(s&&!e&&i===void 0)return 0;let r=i||0;if(H.TERM==="dumb")return r;if(Gt.default.platform==="win32"){let o=rr.default.release().split(".");return Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in H)return["GITHUB_ACTIONS","GITEA_ACTIONS","CIRCLECI"].some(o=>o in H)?3:["TRAVIS","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(o=>o in H)||H.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in H)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(H.TEAMCITY_VERSION)?1:0;if(H.COLORTERM==="truecolor"||H.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in H){let o=Number.parseInt((H.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(H.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(H.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(H.TERM)||"COLORTERM"in H?1:r}function ir(s,e={}){let t=Vl(s,{streamIsTTY:s&&s.isTTY,...e});return Yl(t)}var Wl={stdout:ir({isTTY:tn.default.isatty(1)}),stderr:ir({isTTY:tn.default.isatty(2)})},or=Wl;function ar(s,e,t){let n=s.indexOf(e);if(n===-1)return s;let i=e.length,r=0,o="";do o+=s.slice(r,n)+e+t,r=n+i,n=s.indexOf(e,r);while(n!==-1);return o+=s.slice(r),o}function lr(s,e,t,n){let i=0,r="";do{let o=s[n-1]==="\r";r+=s.slice(i,o?n-1:n)+e+(o?`\r
`:`
`)+t,i=n+1,n=s.indexOf(`
`,i)}while(n!==-1);return r+=s.slice(i),r}var{stdout:cr,stderr:ur}=or,sn=Symbol("GENERATOR"),Fe=Symbol("STYLER"),st=Symbol("IS_EMPTY"),fr=["ansi","ansi","ansi256","ansi16m"],Ke=Object.create(null),Jl=(s,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let t=cr?cr.level:0;s.level=e.level===void 0?t:e.level};var Ql=s=>{let e=(...t)=>t.join(" ");return Jl(e,s),Object.setPrototypeOf(e,nt.prototype),e};function nt(s){return Ql(s)}Object.setPrototypeOf(nt.prototype,Function.prototype);for(let[s,e]of Object.entries(ae))Ke[s]={get(){let t=Yt(this,rn(e.open,e.close,this[Fe]),this[st]);return Object.defineProperty(this,s,{value:t}),t}};Ke.visible={get(){let s=Yt(this,this[Fe],!0);return Object.defineProperty(this,"visible",{value:s}),s}};var nn=(s,e,t,...n)=>s==="rgb"?e==="ansi16m"?ae[t].ansi16m(...n):e==="ansi256"?ae[t].ansi256(ae.rgbToAnsi256(...n)):ae[t].ansi(ae.rgbToAnsi(...n)):s==="hex"?nn("rgb",e,t,...ae.hexToRgb(...n)):ae[t][s](...n),Xl=["rgb","hex","ansi256"];for(let s of Xl){Ke[s]={get(){let{level:t}=this;return function(...n){let i=rn(nn(s,fr[t],"color",...n),ae.color.close,this[Fe]);return Yt(this,i,this[st])}}};let e="bg"+s[0].toUpperCase()+s.slice(1);Ke[e]={get(){let{level:t}=this;return function(...n){let i=rn(nn(s,fr[t],"bgColor",...n),ae.bgColor.close,this[Fe]);return Yt(this,i,this[st])}}}}var zl=Object.defineProperties(()=>{},{...Ke,level:{enumerable:!0,get(){return this[sn].level},set(s){this[sn].level=s}}}),rn=(s,e,t)=>{let n,i;return t===void 0?(n=s,i=e):(n=t.openAll+s,i=e+t.closeAll),{open:s,close:e,openAll:n,closeAll:i,parent:t}},Yt=(s,e,t)=>{let n=(...i)=>Zl(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,zl),n[sn]=s,n[Fe]=e,n[st]=t,n},Zl=(s,e)=>{if(s.level<=0||!e)return s[st]?"":e;let t=s[Fe];if(t===void 0)return e;let{openAll:n,closeAll:i}=t;if(e.includes("\x1B"))for(;t!==void 0;)e=ar(e,t.close,t.open),t=t.parent;let r=e.indexOf(`
`);return r!==-1&&(e=lr(e,i,n,r)),n+e+i};Object.defineProperties(nt.prototype,Ke);var ec=nt(),Ad=nt({level:ur?ur.level:0});var re=ec;var Vs=z("clipanion"),Mt=je(ji());var we=z("@yarnpkg/fslib"),Gs=je(ji());var ye="root",be="catalog:";var Se=class extends Error{constructor(t,n){super(t);this.code=n;this.name="CatalogConfigurationError"}static{this.FILE_NOT_FOUND="FILE_NOT_FOUND"}static{this.INVALID_FORMAT="INVALID_FORMAT"}static{this.INVALID_ALIAS="INVALID_ALIAS"}};function Tp(s){if(!Array.isArray(s))return!1;let e=["strict","warn","optional","restrict"];for(let t of s){if(!t||typeof t!="object")return!1;let{workspaces:n,rules:i}=t;if(!Array.isArray(n)||n.length===0||!n.every(o=>typeof o=="string")||!i||typeof i!="object")return!1;let r=i;if(r.catalog_protocol_usage!==void 0&&(typeof r.catalog_protocol_usage!="string"||!e.includes(r.catalog_protocol_usage)))return!1}return!0}function el(s){if(!s||typeof s!="object")return!1;let e=s;if(!("list"in e)||!e.list||typeof e.list!="object")return!1;for(let t of Object.values(e.list)){if(!t||typeof t!="object")return!1;for(let n of Object.values(t))if(typeof n!="string")return!1}if("options"in e&&e.options){let t=e.options;if(!t||typeof t!="object")return!1;let n=t;if(n.default){if(Array.isArray(n.default)){if(n.default.length===0||!n.default.every(i=>typeof i=="string"))return!1}else if(typeof n.default!="string"||n.default!=="max")return!1}}return!("validation"in e&&e.validation!==void 0&&!Tp(e.validation))}function tl(s,e){let t=Object.keys(s.list);for(let n of t)if(n.includes("/")){let i=e(n);for(let r=0;r<i.length-1;r++){let o=i[r];if(!t.includes(o)&&o!==ye)return!1}}return!0}function Hs(s){return!s||typeof s!="object"||s instanceof Map?!1:Object.values(s).every(e=>typeof e=="string")}function sl(s){return!s||typeof s!="object"||s instanceof Map?!1:Object.values(s).every(e=>Hs(e))}var Lp="catalogs.yml",Us=class{constructor(){this.cache=new Map}async read(e){let t=String(e.cwd),n=this.cache.get(t);if(n!==void 0)return n;let i=we.ppath.join(e.cwd,Lp);if(!await we.xfs.existsPromise(i))return this.cache.set(t,null),null;let r=await we.xfs.readFilePromise(i,"utf8"),o=(0,Gs.parse)(r);if(!el(o))throw new Se("Invalid catalogs.yml format. Expected structure: { options?: {...}, list: { [alias: string]: { [packageName: string]: string } } }",Se.INVALID_FORMAT);if(!tl(o,this.getInheritanceChain.bind(this)))throw new Se("Invalid inheritance structure in catalogs.yml. Parent groups must exist in the inheritance chain.",Se.INVALID_ALIAS);return this.cache.set(t,o),o}async getOptions(e){return(await this.read(e))?.options}async getAppliedCatalogs(e){let t=e.configuration.get("catalog"),n=e.configuration.get("catalogs"),i={};if(t&&typeof t=="object"&&(t instanceof Map?i[ye]=Object.fromEntries(t.entries()):Hs(t)&&(i[ye]=t)),n&&typeof n=="object")if(n instanceof Map)for(let[r,o]of n.entries())o instanceof Map?i[r]=Object.fromEntries(o.entries()):Hs(o)&&(i[r]=o);else sl(n)&&Object.assign(i,n);return i}async writeToYarnrc(e,t){let n=we.ppath.join(e.cwd,".yarnrc.yml"),i="";await we.xfs.existsPromise(n)&&(i=await we.xfs.readFilePromise(n,"utf8"));let r=(0,Gs.parseDocument)(i);t.root&&Object.keys(t.root).length>0?r.set("catalog",r.createNode(t.root)):r.delete("catalog"),Object.keys(t.named).length>0?r.set("catalogs",r.createNode(t.named)):r.delete("catalogs"),await we.xfs.writeFilePromise(n,r.toString())}resolveAllCatalogs(e){let t={named:{}};for(let[n,i]of Object.entries(e.list))n===ye?t.root={...i}:t.named[n]=this.resolveInheritedCatalog(n,e.list);return t}resolveInheritedCatalog(e,t){let n=this.getInheritanceChain(e),i={};for(let r of n){let o=t[r];if(!o)throw new Se(`Parent group "${r}" not found in inheritance chain for "${e}"`,Se.INVALID_ALIAS);Object.assign(i,o)}return i}getInheritanceChain(e){let t=e.split("/"),n=[];for(let i=0;i<t.length;i++)n.push(t.slice(0,i+1).join("/"));return n}clearCache(e){this.cache.delete(String(e.cwd))}};var Q=new Us;var Ys=class extends ol.BaseCommand{constructor(){super(...arguments);this.check=Vs.Option.Boolean("--check",!1,{description:"Check if .yarnrc.yml is up to date and preview changes (fails if changes are needed)"})}static{this.paths=[["catalogs","apply"]]}static{this.usage=Vs.Command.Usage({category:"Catalogs commands",description:"Apply catalog definitions from catalogs.yml to .yarnrc.yml",details:`
      This command reads catalog definitions from catalogs.yml, resolves all inheritance,
      and writes them to .yarnrc.yml in Yarn's native catalog format.

      The catalogs.yml file should contain hierarchical catalog definitions with optional inheritance.
      After running this command, Yarn will use its native catalog resolution for dependencies.
    `,examples:[["Apply catalogs to .yarnrc.yml","yarn catalogs apply"],["Check if .yarnrc.yml is up to date","yarn catalogs apply --check"]]})}async execute(){let t=await et.Configuration.find(this.context.cwd,this.context.plugins),{project:n}=await et.Project.find(t,this.context.cwd);return(await et.StreamReport.start({configuration:t,stdout:this.context.stdout},async r=>{let o=await Q.read(n);if(!o){r.reportError(0,"No catalogs.yml file found in project root. Please create one to use this command.");return}let a=Q.resolveAllCatalogs(o),l=await Fi(n);if(!Ki(l,a)){this.reportNoChanges(r);return}this.check?this.reportCheckFailure(r,l,a):await this.applyChanges(r,n,l,a)})).exitCode()}reportNoChanges(t){let n=this.check?re.green("\u2713 .yarnrc.yml is up to date"):"No changes to apply - .yarnrc.yml is already up to date";t.reportInfo(0,n)}reportCheckFailure(t,n,i){t.reportError(0,".yarnrc.yml is out of date. Run 'yarn catalogs apply' to update it."),rl(t,n,i);let r=nl(i.root?1:0,Object.keys(i.named).length);t.reportInfo(0,`Would apply ${r} to .yarnrc.yml`)}async applyChanges(t,n,i,r){rl(t,i,r),await Q.writeToYarnrc(n,r),Q.clearCache(n);let o=nl(r.root?1:0,Object.keys(r.named).length);t.reportInfo(0,re.green(`\u2713 Applied ${o} to .yarnrc.yml`))}};async function Fi(s){let e=Pt.ppath.join(s.cwd,".yarnrc.yml");if(!await Pt.xfs.existsPromise(e))return{};let t=await Pt.xfs.readFilePromise(e,"utf8");return(0,Mt.parseDocument)(t).toJSON()||{}}function Ki(s,e){let t={...s};e.root&&Object.keys(e.root).length>0?t.catalog=e.root:t.catalog=void 0,Object.keys(e.named).length>0?t.catalogs=e.named:t.catalogs=void 0;let n=(0,Mt.stringify)(s),i=(0,Mt.stringify)(t);return n!==i}function nl(s,e){let t=[];return s>0&&t.push("1 root catalog"),e>0&&t.push(`${e} named catalog group${e>1?"s":""}`),t.length===0?"no catalogs":t.join(" and ")}function il(s,e,t,n){let i=new Set([...Object.keys(t),...Object.keys(n)]);if(Array.from(i).some(o=>t[o]!==n[o])){s.reportInfo(0,re.bold(`${e}:`));for(let o of Array.from(i).sort()){let a=t[o],l=n[o];a?l?a!==l&&(s.reportInfo(0,re.red(`  - ${o}: ${a}`)),s.reportInfo(0,re.green(`  + ${o}: ${l}`))):s.reportInfo(0,re.red(`  - ${o}: ${a}`)):s.reportInfo(0,re.green(`  + ${o}: ${l}`))}}}function rl(s,e,t){let n=e.catalog,i=e.catalogs;(t.root||n)&&il(s,"root catalog",n||{},t.root||{});let r=new Set([...Object.keys(i||{}),...Object.keys(t.named)]);for(let o of Array.from(r).sort())il(s,o,i?.[o]||{},t.named[o]||{})}var Xs=z("@yarnpkg/core"),Ll=je(Tl());async function zi(s){let e=await Q.read(s.project);if(!e?.validation||e.validation.length===0)return null;let t=s.manifest.raw.name;for(let n of e.validation)if(n.workspaces.some(r=>(0,Ll.isMatch)(t,r)))return n.rules;return null}async function ld(s,e,t){let n=e.range.startsWith(be),i=Xs.structUtils.stringifyIdent(e);switch(t){case"strict":{if(n)return null;let r=await zs(s),o=await Q.getAppliedCatalogs(s.project);if(r.some(l=>i in o[l]))return{descriptor:e,message:`${i} is listed in the catalogs config, but not using catalog protocol.`,severity:"error"};break}case"warn":{if(n)return null;let r=await zs(s),o=await Q.getAppliedCatalogs(s.project);if(r.some(l=>i in o[l]))return{descriptor:e,message:`${i} is listed in the catalogs config, but not using catalog protocol.`,severity:"warning"};break}case"restrict":if(n)return{descriptor:e,message:`${i} is using catalog protocol but this is restricted in this workspace.`,severity:"error"};break;case"optional":break}return null}async function Rl(s){let e=await zi(s);if(!e)return[];let t=[],n=[...Object.entries(s.manifest.raw.dependencies??{}),...Object.entries(s.manifest.raw.devDependencies??{})].map(([i,r])=>{let o=Xs.structUtils.parseIdent(i);return Xs.structUtils.makeDescriptor(o,r)});for(let i of n)if(e.catalog_protocol_usage){let r=await ld(s,i,e.catalog_protocol_usage);r&&t.push(r)}return t}async function Zi(s,e){let t=await zi(s);if(t?.catalog_protocol_usage==="restrict"){if(e.range.startsWith(be)){let c=`\u27A4 ${e.name} is using catalog protocol but this is restricted in this workspace.`;throw new Error(re.red(c))}return}let n=await Q.getAppliedCatalogs(s.project),i=[];for(let[c,p]of Object.entries(n))p[e.name]!==void 0&&i.push(c);if(i.length===0)return;let r=await zs(s);for(let c of r)if(i.includes(c)){let p=c===ye?be:`${be}${c}`;e.range=p;return}let o=i.map(c=>c===ye?"":c),a=o.filter(c=>c!=="").length>0?` (${o.join(", ")})`:"",l=`\u27A4 ${e.name} is listed in the catalogs config${a}, but it seems you're adding it without the catalog protocol. Consider running 'yarn add ${e.name}@${be}${o[0]}' instead.`;if(t?.catalog_protocol_usage==="strict")throw new Error(re.red(l));t?.catalog_protocol_usage==="warn"&&console.warn(re.yellow(l))}async function zs(s){let e=await Q.getOptions(s.project);if(e?.default){if(Array.isArray(e.default))return e.default;if(e.default==="max"){let t=await Q.getAppliedCatalogs(s.project),n=Object.keys(t||{}),i=[...Object.entries(s.manifest.raw.dependencies??{}),...Object.entries(s.manifest.raw.devDependencies??{})],r=Object.fromEntries(n.map(a=>[a,0]));for(let[a,l]of i)if(l.startsWith(be)){let c=l.substring(be.length);r[c]=(r[c]||0)+1}let o=Math.max(...Object.values(r));return Object.keys(r).filter(a=>r[a]===o)}}return[]}var cd={commands:[Ys],hooks:{validateProject:async(s,e)=>{let t=await Q.read(s);if(!t)return;let n=Q.resolveAllCatalogs(t),i=await Fi(s);Ki(i,n)&&e.reportError(Zs.MessageName.INVALID_MANIFEST,".yarnrc.yml is out of date. Run 'yarn catalogs apply' to update it.")},validateWorkspace:async(s,e)=>{let t=await Rl(s);for(let n of t)n.severity==="error"?e.reportError(Zs.MessageName.INVALID_MANIFEST,n.message):e.reportWarning(Zs.MessageName.UNNAMED,n.message)},afterWorkspaceDependencyAddition:async(s,e,t)=>{Zi(s,t)},afterWorkspaceDependencyReplacement:async(s,e,t,n)=>{Zi(s,n)}}},ud=cd;return jl(fd);})();
return plugin;
}
};
